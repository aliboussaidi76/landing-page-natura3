<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ù…Ù†Ø§Ø­Ù„ Ø¢Ù„ Ø¨ÙˆØ³Ø¹ÙŠØ¯ÙŠ â€” Ø®Ù„Ø·Ø© ØªÙ‚ÙˆÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø¹Ø© ÙˆÙØªØ­ Ø§Ù„Ø´Ù‡ÙŠØ©</title>
  <meta name="description" content="Ø®Ù„Ø·Ø© Ø¹Ø³Ù„ Ø·Ø¨ÙŠØ¹ÙŠØ© Ù„ØªÙ‚ÙˆÙŠØ© Ù…Ù†Ø§Ø¹Ø© Ø§Ù„Ø£Ø·ÙØ§Ù„ØŒ ÙØªØ­ Ø§Ù„Ø´Ù‡ÙŠØ©ØŒ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù†Ù…Ùˆ ÙˆØ§Ù„Ø·Ø§Ù‚Ø©. ØªÙˆØµÙŠÙ„ Ù„Ø¬Ù…ÙŠØ¹ ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± ÙˆØ§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù….">
  <meta name="keywords" content="Ø¹Ø³Ù„ Ø·Ø¨ÙŠØ¹ÙŠ, Ø®Ù„Ø·Ø© Ù…Ù†Ø§Ø¹Ø©, ÙØªØ­ Ø§Ù„Ø´Ù‡ÙŠØ©, ØºØ°Ø§Ø¡ Ù…Ù„ÙƒØ§Øª, Ø¹Ø³Ù„ Ø§Ù„Ø³Ø¯Ø±, Ø¹Ø³Ù„ Ø§Ù„Ø£Ø²Ù‡Ø§Ø±, Ø¨Ø±ÙˆØ¨ÙˆÙ„ÙŠØ³, Ø­Ø¨ÙˆØ¨ Ø§Ù„Ù„Ù‚Ø§Ø­, Ù…Ù†Ø§Ø­Ù„ Ø¢Ù„ Ø¨ÙˆØ³Ø¹ÙŠØ¯ÙŠ, ØªÙˆØµÙŠÙ„ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±">
  <meta name="author" content="Ù…Ù†Ø§Ø­Ù„ Ø¢Ù„ Ø¨ÙˆØ³Ø¹ÙŠØ¯ÙŠ">

  <!-- ====== Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ© â€” Ø°Ù‡Ø¨ÙŠ / Ø®Ø·ÙˆØ· Ø£ÙƒØ¨Ø± ====== -->
  <style>
    :root{
      --gold1:#d4af37;
      --gold2:#b8860b;
      --accent:#ef6c00;
      --bg1:#fff8e1;
      --bg2:#fff4d1;
      --card:#ffffff;
      --muted:#6b4f3a;
      --radius:16px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Tajawal", "Segoe UI", Tahoma, Arial, sans-serif;
      background: linear-gradient(180deg,var(--bg1),var(--bg2));
      color:#222;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* Header */
    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:14px 18px;
      background: linear-gradient(90deg,var(--gold1),var(--gold2));
      color:#fff;
      position:sticky;
      top:0;
      z-index:999;
    }
    .logo {
      display:flex;align-items:center;gap:12px;
    }
    .logo .mark{
      width:68px;height:68px;border-radius:14px;
      background:linear-gradient(135deg,var(--gold2),var(--gold1));
      display:flex;align-items:center;justify-content:center;
      font-weight:900;color:#fff;font-size:28px;box-shadow:0 10px 30px rgba(0,0,0,0.15)
    }
    .logo .text{line-height:1}
    .logo .title{font-size:22px;font-weight:900}
    .logo .subtitle{font-size:13px;opacity:0.95}

    .header-right{display:flex;align-items:center;gap:12px}
    .hdr-img{width:60px;height:60px;border-radius:12px;object-fit:cover;border:2px solid rgba(255,255,255,0.12)}
    .call-btn{
      background:#000;color:#fff;padding:10px 14px;border-radius:10px;text-decoration:none;font-weight:800;
      display:inline-flex;align-items:center;gap:8px;
    }
    .promo-badge{background:rgba(255,255,255,0.12);padding:8px 12px;border-radius:10px;font-weight:800}

    /* Container */
    .container{max-width:1200px;margin:22px auto;padding:0 18px}

    /* Hero */
    .hero{display:grid;grid-template-columns:1fr 420px;gap:20px;align-items:center}
    .hero-card{background:var(--card);padding:22px;border-radius:var(--radius);box-shadow:0 20px 60px rgba(0,0,0,0.08)}
    .hero-card h1{color:var(--gold2);font-size:30px;margin:0 0 6px}
    .hero-card h2{font-size:16px;margin:0 0 12px;color:var(--muted)}
    .price-line{font-size:18px;font-weight:900;color:#222;margin-top:8px}
    .offers{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}
    .offer-pill{padding:10px 14px;border-radius:12px;background:#fff;border:2px solid transparent;cursor:pointer;font-weight:900}
    .offer-pill.selected{background:linear-gradient(90deg,var(--gold1),var(--accent));color:#fff;border-color:rgba(255,255,255,0.12)}
    .cta-row{display:flex;gap:10px;margin-top:16px;flex-wrap:wrap}
    .btn{padding:12px 16px;border-radius:12px;border:none;cursor:pointer;font-weight:900}
    .btn.primary{background:var(--accent);color:#fff;box-shadow:0 12px 40px rgba(239,108,0,0.14)}
    .btn.ghost{background:#fff;border:2px solid var(--accent);color:var(--accent)}
    .hero-figure{border-radius:12px;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,0.12)}
    .hero-figure img{width:100%;height:100%;object-fit:cover;display:block}

    /* Why / Benefits */
    .why{margin-top:18px;padding:18px;background:linear-gradient(180deg,#fffaf0,#fff6df);border-radius:12px;border:1px solid rgba(184,134,11,0.08)}
    .why h3{color:var(--gold2);margin-top:0}
    .why p{color:#4a3b2f;line-height:1.7;text-align:justify}

    /* Products grid */
    .product-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:20px}
    .prod{background:var(--card);padding:12px;border-radius:12px;display:flex;gap:12px;align-items:center;box-shadow:0 8px 30px rgba(0,0,0,0.06)}
    .prod img{width:120px;height:84px;object-fit:cover;border-radius:8px}
    .prod .meta{flex:1}
    .prod h4{margin:0 0 6px;font-size:16px;color:#2f1f10}
    .prod .price{font-weight:900;color:#111}
    .prod .stars{color:#f5b301;font-size:14px;margin-top:6px}

    /* Checkout area */
    .checkout{display:grid;grid-template-columns:1fr 420px;gap:14px;margin-top:22px}
    .order-form{background:var(--card);padding:16px;border-radius:12px;box-shadow:0 12px 40px rgba(0,0,0,0.06)}
    label{display:block;margin:10px 0 6px;font-weight:800}
    input,select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #eee;margin-bottom:8px}
    .summary{background:linear-gradient(180deg,#fff9f2,#fff4df);padding:12px;border-radius:12px;border:1px solid #ffedd5}
    .row{display:flex;justify-content:space-between;margin-bottom:8px}
    .small{font-size:13px;color:var(--muted)}

    /* Cart floating & small cart box */
    #cartBox{position:fixed;left:18px;bottom:90px;width:360px;max-height:60vh;background:var(--card);box-shadow:0 14px 60px rgba(0,0,0,0.12);border-radius:12px;padding:12px;overflow:auto;display:none;z-index:998}
    #floatOrder{position:fixed;left:0;right:0;bottom:0;background:#000;color:#fff;padding:14px;text-align:center;font-weight:900;cursor:pointer;z-index:999;border-top-left-radius:12px;border-top-right-radius:12px}

    /* Footer */
    footer{margin-top:30px;padding:18px;text-align:center;color:var(--muted)}

    /* responsive */
    @media (max-width:1000px){
      .hero{grid-template-columns:1fr}
      .product-grid{grid-template-columns:repeat(2,1fr)}
      .checkout{grid-template-columns:1fr}
      #cartBox{left:10px;right:10px;width:auto}
    }
    @media (max-width:600px){
      .product-grid{grid-template-columns:1fr}
      .logo .title{font-size:18px}
      h1{font-size:22px}
    }
  </style>
</head>
<body>

  <!-- ===== Header ===== -->
  <header>
    <div class="logo" aria-hidden="false">
      <div class="mark">Ù…</div>
      <div class="text">
        <div class="title">Ù…Ù†Ø§Ø­Ù„ Ø¢Ù„ Ø¨ÙˆØ³Ø¹ÙŠØ¯ÙŠ</div>
        <div class="subtitle">Ø¹Ø³Ù„ Ø·Ø¨ÙŠØ¹ÙŠ ÙˆØ®Ù„Ø·Ø§Øª Ø¹Ù„Ø§Ø¬ÙŠØ©</div>
      </div>
    </div>

    <div class="header-right">
      <!-- left/right honey images (SVG data URIs) -->
      <img class="hdr-img" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'><rect rx='12' ry='12' width='100%25' height='100%25' fill='%23fff5e1'/><text x='50%25' y='52%25' font-size='14' text-anchor='middle' fill='%23b8860b' font-family='Tahoma' dominant-baseline='middle'>Ø´Ù‡Ø¯</text></svg>" alt="Ø´Ù‡Ø¯">
      <div class="promo-badge">ğŸšš ØªÙˆØµÙŠÙ„ Ù„ÙƒÙ„ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª â€” Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</div>
      <a class="call-btn" href="tel:+213550123456" aria-label="Ø§ØªØµÙ„ Ø¨Ù†Ø§">ğŸ“ Ø§ØªØµÙ„ Ø§Ù„Ø¢Ù† <strong>+213 550 12 34 56</strong></a>
      <img class="hdr-img" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'><rect rx='12' ry='12' width='100%25' height='100%25' fill='%23fff5e1'/><text x='50%25' y='52%25' font-size='14' text-anchor='middle' fill='%23b8860b' font-family='Tahoma' dominant-baseline='middle'>Ø¹Ø³Ù„</text></svg>" alt="Ø´Ù‡Ø¯">
    </div>
  </header>

  <!-- ===== Main container ===== -->
  <main class="container">

    <!-- HERO -->
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-card">
        <h1 id="hero-title">Ø®Ù„Ø·Ø© ØªÙ‚ÙˆÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø¹Ø© ÙˆØ²ÙŠØ§Ø¯Ø© Ø§Ù„Ø´Ù‡ÙŠØ© ÙˆØ§Ù„Ù†Ù…Ùˆ â€” Ù„Ù„Ø£Ø·ÙØ§Ù„ ÙˆØ§Ù„ÙƒØ¨Ø§Ø±</h1>
        <h2>Ø®Ù„ÙŠØ· Ù…Ù† Ø§Ù„Ø¹Ø³Ù„ Ø§Ù„Ù†Ù‚ÙŠØŒ ØºØ°Ø§Ø¡ Ø§Ù„Ù…Ù„ÙƒØ§ØªØŒ Ø­Ø¨ÙˆØ¨ Ø§Ù„Ù„Ù‚Ø§Ø­ ÙˆØ§Ù„Ø¨Ø±ÙˆØ¨ÙˆÙ„ÙŠØ³ â€” Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø´Ù‡ÙŠØ©ØŒ Ø§Ù„Ù†Ù…ÙˆØŒ ÙˆØ§Ù„ØªØ±ÙƒÙŠØ²</h2>

        <div class="price-line">Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚: 1 Ø¹Ø¨ÙˆØ© â€” 2800 Ø¯Ø¬ | 2 Ø¹Ø¨ÙˆØªÙŠÙ† â€” 5000 Ø¯Ø¬ (ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ) | 3 Ø¹Ø¨ÙˆØ§Øª + 1 Ù…Ø¬Ø§Ù†Ø§Ù‹ â€” 8400 Ø¯Ø¬ (ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ)</div>

        <div style="margin-top:12px;font-weight:900">Ù„Ù„Ø·Ù„Ø¨ Ø§Ø®ØªØ± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø°ÙŠ ÙŠÙ†Ø§Ø³Ø¨Ùƒ</div>
        <div class="offers" role="tablist" aria-label="Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª">
          <div class="offer-pill selected" data-offer="one" onclick="chooseOffer('one')">1 Ø¹Ø¨ÙˆØ© â€” 2800 Ø¯Ø¬</div>
          <div class="offer-pill" data-offer="two" onclick="chooseOffer('two')">2 Ø¹Ø¨ÙˆØªÙŠÙ† â€” 5000 Ø¯Ø¬ (Ù…Ø¬Ø§Ù†ÙŠ)</div>
          <div class="offer-pill" data-offer="four" onclick="chooseOffer('four')">3 Ø¹Ø¨ÙˆØ§Øª +1 Ù…Ø¬Ø§Ù†Ø§Ù‹ â€” 8400 Ø¯Ø¬ (Ù…Ø¬Ø§Ù†ÙŠ)</div>
        </div>

        <div class="cta-row">
          <button class="btn primary" onclick="buyNow()">Ø§Ø´ØªØ±ÙŠ Ù…Ø¨Ø§Ø´Ø±Ø©</button>
          <button class="btn ghost" id="addOfferBtn" onclick="addOfferToCart()">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>

        <div class="why" aria-label="Ù„Ù…Ø§Ø°Ø§ Ø·ÙÙ„Ùƒ ÙŠØ­ØªØ§Ø¬ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø³Ù„">
          <h3>Ù„Ù…Ø§Ø°Ø§ Ø·ÙÙ„Ùƒ ÙÙŠ Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø³Ù„ØŸ</h3>
          <p>
            Ù…Ù„Ø¹Ù‚Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù…Ù† Ø®Ù„Ø·Ø© Ù…Ù†Ø§Ø­Ù„ Ø¢Ù„ Ø¨ÙˆØ³Ø¹ÙŠØ¯ÙŠ ØªØ¹Ø·ÙŠ Ø·ÙÙ„Ùƒ Ø·Ø§Ù‚Ø© ÙˆØ­ÙŠÙˆÙŠØ© ØªØ³Ø§Ø¹Ø¯Ù‡ Ø¹Ù„Ù‰ Ø§Ù„ØªØ±ÙƒÙŠØ² ÙÙŠ Ø§Ù„Ø¯Ø±Ø§Ø³Ø© ÙˆØ§Ù„ØªØ­ØµÙŠÙ„ØŒ ØªØ¹Ù…Ù„ Ø¹Ù„Ù‰ ÙØªØ­ Ø§Ù„Ø´Ù‡ÙŠØ© ÙˆØªØ­ÙÙŠØ² Ø§Ù„Ù†Ù…Ùˆ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ Ù„Ù„ÙˆØ²Ù† ÙˆØ§Ù„Ø·ÙˆÙ„ØŒ
            ØªØ¯Ø¹Ù… Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ù†Ø§Ø¹ÙŠ Ù„Ù„Ø·ÙÙ„ Ø¶Ø¯ Ù†Ø²Ù„Ø§Øª Ø§Ù„Ø¨Ø±Ø¯ ÙˆØ§Ù„Ø§Ù„ØªÙ‡Ø§Ø¨Ø§ØªØŒ ÙˆØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø¶Ø§Ø¯Ø§Øª Ø£ÙƒØ³Ø¯Ø© ÙˆÙ…Ø¹Ø§Ø¯Ù† Ø·Ø¨ÙŠØ¹ÙŠØ© ØªØ³Ø§Ù†Ø¯ ØµØ­Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‡Ø¶Ù…ÙŠ ÙˆØ§Ù„Ø¯Ù…Ø§Øº. Ø¨Ø¹Ø¯ ØªÙ†Ø§ÙˆÙ„ Ù…Ù†ØªØ¸Ù… ØªÙ„Ø§Ø­Ø¸ Ø§Ù„Ø£Ù…:
            Ø²ÙŠØ§Ø¯Ø© ÙˆØ§Ø¶Ø­Ø© ÙÙŠ Ø§Ù„Ø´Ù‡ÙŠØ©ØŒ Ù†Ø´Ø§Ø· ÙŠÙˆÙ…ÙŠ Ø£Ø¹Ù„Ù‰ØŒ ØªØ±ÙƒÙŠØ² Ø£ÙØ¶Ù„ ÙÙŠ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©ØŒ ÙˆØªØ­Ø³Ù‘Ù† ÙÙŠ Ø§Ù„Ù†ÙˆÙ… ÙˆØ§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ù„Ù….
          </p>
        </div>

        <div style="margin-top:12px" class="product-grid" aria-label="Ù…Ù†ØªØ¬Ø§Øª Ù…ÙƒÙ…Ù‘Ù„Ø©">
          <!-- main product shown first -->
          <div class="prod" style="grid-column: span 3;">
            <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='360'><rect rx='12' width='100%25' height='100%25' fill='%23fff5e1'/><text x='50%25' y='52%25' text-anchor='middle' dominant-baseline='middle' font-family='Tahoma' font-size='30' fill='%23b8860b'>Ø®Ù„Ø·Ø© Ø§Ù„Ù…Ù†Ø§Ø¹Ø©</text></svg>" alt="Ø®Ù„Ø·Ø© Ø§Ù„Ù…Ù†Ø§Ø¹Ø©">
            <div class="meta">
              <h4>Ø®Ù„Ø·Ø© ØªÙ‚ÙˆÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø¹Ø© ÙˆÙØªØ­ Ø§Ù„Ø´Ù‡ÙŠØ© (Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ)</h4>
              <div class="price">Ø³Ø¹Ø± Ø§Ù„Ø¹Ø±Ø¶ ÙŠØ¨Ø¯Ø£ Ù…Ù† 2800 Ø¯.Ø¬</div>
              <div style="margin-top:8px" class="small">Ù…ÙƒÙˆÙ†Ø§Øª: Ø¹Ø³Ù„ Ù†Ù‚ÙŠØŒ ØºØ°Ø§Ø¡ Ù…Ù„ÙƒØ§ØªØŒ Ø­Ø¨ÙˆØ¨ Ù„Ù‚Ø§Ø­ØŒ Ø¨Ø±ÙˆØ¨ÙˆÙ„ÙŠØ³.</div>
            </div>
          </div>

        </div>

      </div>

      <div class="hero-figure">
        <!-- ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø¨Ø§Ø±Ø²Ø© -->
        <img alt="Ø®Ù„Ø·Ø© Ù…Ù†Ø§Ø­Ù„ Ø¢Ù„ Ø¨ÙˆØ³Ø¹ÙŠØ¯ÙŠ" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='800' height='600'><rect rx='12' width='100%25' height='100%25' fill='%23fff5e1'/><g><circle cx='420' cy='220' r='110' fill='%23f9e4b3'/><text x='420' y='230' text-anchor='middle' dominant-baseline='middle' font-family='Tahoma' font-size='32' fill='%23b8860b'>Ø®Ù„Ø·Ø© Ø§Ù„Ù…Ù†Ø§Ø¹Ø©</text></g></svg>">
      </div>
    </section>

    <!-- UPSALES list (products other) -->
    <section style="margin-top:18px">
      <h3 style="color:var(--gold2)">Ù…Ù†ØªØ¬Ø§Øª Ø£Ø®Ø±Ù‰ Ø£Ø¶ÙÙ‡Ø§ Ù…Ø¹ Ø·Ù„Ø¨Ùƒ</h3>
      <div class="product-grid" id="upsellGrid" aria-live="polite"></div>
    </section>

    <!-- Checkout area -->
    <section class="checkout" id="checkoutSection" style="margin-bottom:32px">
      <div class="order-form">
        <h3>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</h3>
        <form id="orderForm" onsubmit="return submitOrder(event)">
          <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
          <input type="text" id="custName" name="name" required>

          <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
          <input type="tel" id="custPhone" name="phone" required placeholder="Ù…Ø«Ø§Ù„: 0550123456">

          <label>Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</label>
          <select id="wilaya" name="wilaya" required onchange="recalculate()">
            <option value="">Ø§Ø®ØªØ± ÙˆÙ„Ø§ÙŠØªÙƒ</option>
          </select>

          <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø´Ø§Ø±Ø¹ØŒ Ø±Ù‚Ù…...)</label>
          <input id="address" name="address" required placeholder="Ù…Ø«Ø§Ù„: Ø­ÙŠ Ø§Ù„Ø³Ù„Ø§Ù…ØŒ Ø´Ø§Ø±Ø¹ 12">

          <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª (ÙˆÙ‚Øª Ø§Ù„ØªÙˆØµÙŠÙ„ØŒ ØªÙØ§ØµÙŠÙ„)</label>
          <textarea id="notes" name="notes" rows="3"></textarea>

          <!-- hidden fields -->
          <input type="hidden" id="itemsInput" name="items">
          <input type="hidden" id="subtotalInput" name="subtotal">
          <input type="hidden" id="shippingInput" name="shipping">
          <input type="hidden" id="totalInput" name="total">

          <div style="margin-top:12px">
            <button type="submit" class="btn primary">âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
          </div>
        </form>
      </div>

      <div class="summary" aria-live="polite">
        <h3>ğŸ›’ Ù…Ù„Ø®Øµ Ø§Ù„Ø³Ù„Ø©</h3>
        <div id="cartItemsSummary" class="small">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</div>
        <div class="row"><div class="small">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ</div><div id="subtotal">0 Ø¯.Ø¬</div></div>
        <div class="row"><div class="small">ØªÙƒÙ„ÙØ© Ø§Ù„ØªÙˆØµÙŠÙ„</div><div id="shipping">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</div></div>
        <hr style="border:none;border-top:1px dashed #f0d9b3;margin:10px 0"/>
        <div class="row" style="font-weight:900"><div>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ</div><div id="total">0 Ø¯.Ø¬</div></div>

        <div style="margin-top:12px">
          <button class="btn ghost" onclick="toggleCartBox()">Ø¹Ø±Ø¶/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø³Ù„Ø©</button>
        </div>

        <div style="margin-top:12px;font-size:13px;color:var(--muted)">
          ğŸ” <strong>Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹:</strong> ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù…Ù†ØªØ¬ ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„ØªÙ„Ù Ø£Ùˆ Ø®Ù„Ù„ Ø§Ù„ØªØºÙ„ÙŠÙ Ø®Ù„Ø§Ù„ 7 Ø£ÙŠØ§Ù… â€” Ù†Ø³ØªØ¨Ø¯Ù„ Ø§Ù„Ù…Ù†ØªØ¬ Ø£Ùˆ Ù†ÙØ±Ø¬Ø¹ Ø§Ù„Ù…Ø¨Ù„Øº Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø©.
          <div style="margin-top:8px">ğŸ¢ Â© Ø´Ø±ÙƒØ© Ù…Ù†Ø§Ø­Ù„ Ø¢Ù„ Ø¨ÙˆØ³Ø¹ÙŠØ¯ÙŠ</div>
        </div>
      </div>
    </section>

  </main>

  <!-- Floating small cart box -->
  <div id="cartBox" role="dialog" aria-label="Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª"></div>

  <!-- Fixed order CTA -->
  <div id="floatOrder" onclick="scrollToCheckout()">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</div>

  <footer>
    <div style="max-width:1100px;margin:0 auto;padding:12px;color:var(--muted)">
      <div>Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±: <a href="tel:+213550123456">+213 550 12 34 56</a> â€” Ø§Ù„ØªÙˆØµÙŠÙ„ Ù„ÙƒÙ„ ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</div>
      <div style="margin-top:8px">Â© 2025 Ø´Ø±ÙƒØ© Ù…Ù†Ø§Ø­Ù„ Ø¢Ù„ Ø¨ÙˆØ³Ø¹ÙŠØ¯ÙŠ</div>
    </div>
  </footer>

  <!-- ====== Script: logic (cart, offers, shipping, submit) ====== -->
  <script>
    /**************************************************************
     * IMPORTANT:
     * 1) Ø¨Ø¹Ø¯ Ù†Ø´Ø± Google Apps Script (Code.gs) ÙƒØ±Ø§Ø¨Ø· Web App (exec)
     *    Ø¶Ø¹ Ø±Ø§Ø¨Ø· Web App ÙÙŠ Ø§Ù„Ù…ØªØºÙŠØ± SCRIPT_URL Ø£Ø¯Ù†Ø§Ù‡.
     * 2) Ø§Ù„Ø³ÙƒØ±Ø¨Øª ÙÙŠ Apps Script Ø§Ù„Ø°ÙŠ Ø£Ø¹Ø·ÙŠØªÙƒ (doPost) ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹ JSON.
     **************************************************************/
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzacfI1sIXosgi1le2QQjJxisVBJmqBgRn-voFKhNnuZqOhOXNLx-uuxhfmLPDk9u7Mlg/exec"; // <-- Ø¶Ø¹ Ù‡Ù†Ø§ Ø±Ø§Ø¨Ø· Web App Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ

    /* ======= Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ ======= */
    const PRODUCTS = [
      { id:'main_one', title:'Ø®Ù„Ø·Ø© Ø§Ù„Ù…Ù†Ø§Ø¹Ø© â€” 1 Ø¹Ø¨ÙˆØ©', price:2800, qty:1, freeShipping:false },
      { id:'main_two', title:'Ø®Ù„Ø·Ø© Ø§Ù„Ù…Ù†Ø§Ø¹Ø© â€” 2 Ø¹Ø¨ÙˆØªÙŠÙ†', price:5000, qty:2, freeShipping:true },
      { id:'main_four', title:'Ø®Ù„Ø·Ø© Ø§Ù„Ù…Ù†Ø§Ø¹Ø© â€” 3 Ø¹Ø¨ÙˆØ§Øª +1 Ù…Ø¬Ø§Ù†Ø§Ù‹', price:8400, qty:4, freeShipping:true },

      /* upsells */
      { id:'sidr', title:'Ø¹Ø³Ù„ Ø§Ù„Ø³Ø¯Ø± (500Øº)', price:3500, qty:1, imgText:'Ø¹Ø³Ù„ Ø§Ù„Ø³Ø¯Ø±' },
      { id:'azhar', title:'Ø¹Ø³Ù„ Ø§Ù„Ø£Ø²Ù‡Ø§Ø± (500Øº)', price:3000, qty:1, imgText:'Ø¹Ø³Ù„ Ø§Ù„Ø£Ø²Ù‡Ø§Ø±' },
      { id:'jibi', title:'Ø§Ù„Ø¹Ø³Ù„ Ø§Ù„Ø¬Ø¨Ù„ÙŠ (500Øº)', price:4000, qty:1, imgText:'Ø§Ù„Ø¹Ø³Ù„ Ø§Ù„Ø¬Ø¨Ù„ÙŠ' },
      { id:'fat', title:'Ø®Ù„Ø·Ø© Ø§Ù„ØªØ³Ù…ÙŠÙ† Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ', price:5000, qty:1, imgText:'Ø®Ù„Ø·Ø© Ø§Ù„ØªØ³Ù…ÙŠÙ†' },
      { id:'sex', title:'Ø®Ù„Ø·Ø© Ø§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„Ø¬Ù†Ø³ÙŠØ©', price:6000, qty:1, imgText:'Ø®Ù„Ø·Ø© Ø§Ù„Ù‚Ø¯Ø±Ø©' },
      { id:'bedwet', title:'Ø®Ù„Ø·Ø© Ø§Ù„ØªØ¨ÙˆÙ„ Ø§Ù„Ù„Ø§Ø§Ø±Ø§Ø¯ÙŠ', price:6500, qty:1, imgText:'Ø®Ù„Ø·Ø© Ø§Ù„ØªØ¨ÙˆÙ„' },
      { id:'resp', title:'Ø®Ù„Ø·Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„ØªÙ†ÙØ³ÙŠ ÙˆØ§Ù„Ø³Ø¹Ø§Ù„', price:5500, qty:1, imgText:'Ø®Ù„Ø·Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„ØªÙ†ÙØ³ÙŠ' }
    ];

    /* ======= Ø®Ø±Ø§Ø¦Ø· Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØªÙˆØµÙŠÙ„ Ù„ÙƒÙ„ ÙˆÙ„Ø§ÙŠØ© (58 ÙˆÙ„Ø§ÙŠØ©) ======= */
    const shippingPrices = {
      "Ø£Ø¯Ø±Ø§Ø±":600,"Ø§Ù„Ø´Ù„Ù":400,"Ø§Ù„Ø£ØºÙˆØ§Ø·":450,"Ø£Ù… Ø§Ù„Ø¨ÙˆØ§Ù‚ÙŠ":500,"Ø¨Ø§ØªÙ†Ø©":450,
      "Ø¨Ø¬Ø§ÙŠØ©":400,"Ø¨Ø³ÙƒØ±Ø©":500,"Ø¨Ø´Ø§Ø±":700,"Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©":300,"Ø§Ù„Ø¨ÙˆÙŠØ±Ø©":400,
      "ØªÙ…Ù†Ø±Ø§Ø³Øª":900,"ØªØ¨Ø³Ø©":500,"ØªÙ„Ù…Ø³Ø§Ù†":400,"ØªÙŠØ§Ø±Øª":450,"ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ":400,
      "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±":300,"Ø§Ù„Ø¬Ù„ÙØ©":450,"Ø¬ÙŠØ¬Ù„":400,"Ø³Ø·ÙŠÙ":450,"Ø³Ø¹ÙŠØ¯Ø©":450,
      "Ø³ÙƒÙŠÙƒØ¯Ø©":450,"Ø³ÙŠØ¯ÙŠ Ø¨Ù„Ø¹Ø¨Ø§Ø³":450,"Ø¹Ù†Ø§Ø¨Ø©":450,"Ù‚Ø§Ù„Ù…Ø©":450,"Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©":450,
      "Ø§Ù„Ù…Ø¯ÙŠØ©":400,"Ù…Ø³ØªØºØ§Ù†Ù…":400,"Ø§Ù„Ù…Ø³ÙŠÙ„Ø©":450,"Ù…Ø¹Ø³ÙƒØ±":400,"ÙˆØ±Ù‚Ù„Ø©":700,
      "ÙˆÙ‡Ø±Ø§Ù†":400,"Ø§Ù„Ø¨ÙŠØ¶":600,"Ø¥Ù„ÙŠØ²ÙŠ":900,"Ø¨Ø±Ø¬ Ø¨ÙˆØ¹Ø±ÙŠØ±ÙŠØ¬":450,"Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³":350,
      "Ø§Ù„Ø·Ø§Ø±Ù":500,"ØªÙ†Ø¯ÙˆÙ":900,"ØªÙŠØ³Ù…Ø³ÙŠÙ„Øª":450,"Ø§Ù„ÙˆØ§Ø¯ÙŠ":700,"Ø®Ù†Ø´Ù„Ø©":500,
      "Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³":500,"ØªÙŠØ¨Ø§Ø²Ø©":350,"Ù…ÙŠÙ„Ø©":450,"Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰":450,"Ø§Ù„Ù†Ø¹Ø§Ù…Ø©":700,
      "Ø¹ÙŠÙ† ØªÙ…ÙˆØ´Ù†Øª":450,"ØºØ±Ø¯Ø§ÙŠØ©":700,"ØºÙ„ÙŠØ²Ø§Ù†":450,"ØªÙŠÙ…ÙŠÙ…ÙˆÙ†":800,"Ø¨Ø±Ø¬ Ø¨Ø§Ø¬ÙŠ Ù…Ø®ØªØ§Ø±":900,
      "Ø£ÙˆÙ„Ø§Ø¯ Ø¬Ù„Ø§Ù„":750,"Ø¨Ù†ÙŠ Ø¹Ø¨Ø§Ø³":800,"Ø¹ÙŠÙ† ØµØ§Ù„Ø­":900,"Ø¹ÙŠÙ† Ù‚Ø²Ø§Ù…":900,"ØªÙ‚Ø±Øª":750,
      "Ø¬Ø§Ù†Øª":900,"Ø§Ù„Ù…ØºÙŠØ±":900,"Ø§Ù„Ù…Ù†ÙŠØ¹Ø©":900
    };

    /* ======= State ======= */
    let cart = []; // array of {id,title,price,qty,freeShipping}
    let selectedOffer = 'main_one';

    /* ======= Utilities ======= */
    function findProduct(id){ return PRODUCTS.find(p=>p.id===id); }
    function format(num){ return (num||0).toLocaleString() + " Ø¯.Ø¬"; }

    /* ======= Render upsells grid ======= */
    function createDataImg(text){
      // inline SVG data URI (small, safe)
      return "data:image/svg+xml;utf8," + encodeURIComponent(
        "<svg xmlns='http://www.w3.org/2000/svg' width='400' height='260'><rect rx='12' width='100%' height='100%' fill='%23fff5e1'/><text x='50%' y='50%' text-anchor='middle' dominant-baseline='middle' font-family='Tahoma' font-size='20' fill='%23b8860b'>" + text + "</text></svg>"
      );
    }

    function renderUpsells(){
      const grid = document.getElementById('upsellGrid');
      grid.innerHTML = "";
      const ups = PRODUCTS.filter(p=>!p.id.startsWith('main'));
      ups.forEach(p=>{
        const el = document.createElement('div');
        el.className = "prod card";
        el.innerHTML = `
          <img src="${createDataImg(p.imgText||p.title)}" alt="${p.title}">
          <div class="meta">
            <h4>${p.title}</h4>
            <div class="price">${p.price.toLocaleString()} Ø¯.Ø¬</div>
            <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
          </div>
          <div>
            <button class="btn primary" id="btn-${p.id}">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
          </div>
        `;
        grid.appendChild(el);
        document.getElementById("btn-"+p.id).addEventListener('click', function(){
          addToCart(p.id);
          this.style.background="#00a86b";
          setTimeout(()=>this.style.background="",700);
        });
      });
    }
    renderUpsells();

    /* ======= Offers UI ======= */
    function chooseOffer(key){
      selectedOffer = (key==='two'?'main_two': key==='four'?'main_four':'main_one');
      document.querySelectorAll('.offer-pill').forEach(el=>el.classList.remove('selected'));
      document.querySelectorAll('.offer-pill').forEach(el=>{
        if((key==='one' && el.dataset.offer==='one') || (key==='two' && el.dataset.offer==='two') || (key==='four' && el.dataset.offer==='four')) el.classList.add('selected');
      });
    }

    /* ======= Cart functions ======= */
    function addToCart(id){
      const prod = findProduct(id);
      if(!prod) return;
      // if main package already exists, increment qty accordingly
      const existing = cart.find(it=>it.id===id);
      if(existing){
        existing.qty += prod.qty || 1;
      } else {
        cart.push({
          id:prod.id,
          title:prod.title,
          price:prod.price,
          qty:prod.qty||1,
          freeShipping:!!prod.freeShipping
        });
      }
      saveCart();
      renderCart();
      showCartBox();
    }
    function removeFromCart(index){
      if(index>=0 && index<cart.length) cart.splice(index,1);
      saveCart(); renderCart();
    }
    function clearCart(){ cart=[]; saveCart(); renderCart(); }

    function renderCart(){
      const box = document.getElementById('cartItemsSummary');
      if(cart.length===0){
        box.innerHTML = "<div class='small'>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</div>";
      } else {
        box.innerHTML = cart.map((it,i)=>`<div style="margin-bottom:8px"><strong>${it.title}</strong> â€” ${it.price.toLocaleString()} Ø¯.Ø¬ Ã— ${it.qty}<button style="margin-left:8px;background:#e74c3c;border:none;color:#fff;padding:6px;border-radius:8px;cursor:pointer" onclick="removeFromCart(${i})">Ø­Ø°Ù</button></div>`).join('');
      }
      // totals
      const subtotal = cart.reduce((s,i)=>s + (i.price*(i.qty||1)), 0);
      document.getElementById('subtotal').innerText = format(subtotal);

      // calculate shipping
      recalculate();
    }

    function saveCart(){ localStorage.setItem('manahil_cart_v1', JSON.stringify(cart)); }
    function loadCart(){ try{ cart = JSON.parse(localStorage.getItem('manahil_cart_v1')||'[]')||[]; }catch(e){cart=[];} renderCart(); }

    /* show/hide small cart box */
    function showCartBox(){
      const cb = document.getElementById('cartBox');
      cb.style.display = 'block';
      cb.innerHTML = `<h4>Ø³Ù„Ø© Ù…Ø´ØªØ±ÙŠØ§ØªÙƒ</h4>` + (cart.length? cart.map((it,i)=>`<div style="margin-bottom:8px"><strong>${it.title}</strong><div class="small">${(it.price*(it.qty||1)).toLocaleString()} Ø¯.Ø¬ â€” ${it.qty} Ù‚Ø·Ø¹Ø© <button onclick="removeFromCart(${i})" style="margin-left:8px">Ø­Ø°Ù</button></div></div>`).join('') : '<div class="small">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</div>') + `<div style="text-align:center;margin-top:10px"><button onclick="hideCartBox()" style="padding:8px;border-radius:8px;border:none;background:#eee;cursor:pointer">Ø¥ØºÙ„Ø§Ù‚</button></div>`;
    }
    function hideCartBox(){ document.getElementById('cartBox').style.display='none'; }
    function toggleCartBox(){ const cb=document.getElementById('cartBox'); cb.style.display = (cb.style.display==='block')? 'none':'block'; if(cb.style.display==='block') showCartBox(); }

    /* ======= Shipping & totals logic ======= */
    function recalculate(){
      const wilaya = document.getElementById('wilaya').value;
      const subtotal = cart.reduce((s,i)=>s + (i.price*(i.qty||1)), 0);
      const totalPacks = cart.reduce((s,i)=>s + (i.qty||1), 0);
      const freeByItem = cart.some(i=>i.freeShipping);
      const freeByQty = totalPacks > 1;
      const freeBySubtotal = subtotal >= 5000;
      let shipping = 0;
      if(!freeByItem && !freeByQty && !freeBySubtotal){
        shipping = (wilaya && shippingPrices[wilaya])? shippingPrices[wilaya] : 0;
      } else {
        shipping = 0;
      }
      document.getElementById('shipping').innerText = shipping ? format(shipping) : 'Ù…Ø¬Ø§Ù†ÙŠ';
      document.getElementById('total').innerText = format(subtotal + shipping);
      document.getElementById('subtotalInput').value = subtotal;
      document.getElementById('shippingInput').value = shipping;
      document.getElementById('totalInput').value = subtotal + shipping;
      document.getElementById('itemsInput').value = JSON.stringify(cart);
    }

    /* ======= Offers interactions ======= */
    function addOfferToCart(){
      const offer = findProduct(selectedOffer);
      if(offer) addToCart(offer.id);
      const btn = document.getElementById('addOfferBtn');
      btn.style.background = '#00a86b';
      setTimeout(()=>btn.style.background = '', 800);
    }

    function buyNow(){
      // replace cart with selected offer and scroll to form
      cart = [];
      const offer = findProduct(selectedOffer);
      if(offer) cart.push({id:offer.id,title:offer.title,price:offer.price,qty:offer.qty||1,freeShipping:!!offer.freeShipping});
      saveCart(); renderCart();
      document.getElementById('orderForm').scrollIntoView({behavior:'smooth'});
      // focus name
      setTimeout(()=>document.getElementById('custName').focus(),500);
    }

    /* ======= Populate wilaya select (58) ======= */
    const wilayasList = [
      "Ø£Ø¯Ø±Ø§Ø±","Ø§Ù„Ø´Ù„Ù","Ø§Ù„Ø£ØºÙˆØ§Ø·","Ø£Ù… Ø§Ù„Ø¨ÙˆØ§Ù‚ÙŠ","Ø¨Ø§ØªÙ†Ø©","Ø¨Ø¬Ø§ÙŠØ©","Ø¨Ø³ÙƒØ±Ø©","Ø¨Ø´Ø§Ø±","Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©","Ø§Ù„Ø¨ÙˆÙŠØ±Ø©",
      "ØªÙ…Ù†Ø±Ø§Ø³Øª","ØªØ¨Ø³Ø©","ØªÙ„Ù…Ø³Ø§Ù†","ØªÙŠØ§Ø±Øª","ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ","Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±","Ø§Ù„Ø¬Ù„ÙØ©","Ø¬ÙŠØ¬Ù„","Ø³Ø·ÙŠÙ","Ø³Ø¹ÙŠØ¯Ø©",
      "Ø³ÙƒÙŠÙƒØ¯Ø©","Ø³ÙŠØ¯ÙŠ Ø¨Ù„Ø¹Ø¨Ø§Ø³","Ø¹Ù†Ø§Ø¨Ø©","Ù‚Ø§Ù„Ù…Ø©","Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©","Ø§Ù„Ù…Ø¯ÙŠØ©","Ù…Ø³ØªØºØ§Ù†Ù…","Ø§Ù„Ù…Ø³ÙŠÙ„Ø©","Ù…Ø¹Ø³ÙƒØ±","ÙˆØ±Ù‚Ù„Ø©",
      "ÙˆÙ‡Ø±Ø§Ù†","Ø§Ù„Ø¨ÙŠØ¶","Ø¥Ù„ÙŠØ²ÙŠ","Ø¨Ø±Ø¬ Ø¨ÙˆØ¹Ø±ÙŠØ±ÙŠØ¬","Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³","Ø§Ù„Ø·Ø§Ø±Ù","ØªÙ†Ø¯ÙˆÙ","ØªÙŠØ³Ù…Ø³ÙŠÙ„Øª","Ø§Ù„ÙˆØ§Ø¯ÙŠ","Ø®Ù†Ø´Ù„Ø©",
      "Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³","ØªÙŠØ¨Ø§Ø²Ø©","Ù…ÙŠÙ„Ø©","Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰","Ø§Ù„Ù†Ø¹Ø§Ù…Ø©","Ø¹ÙŠÙ† ØªÙ…ÙˆØ´Ù†Øª","ØºØ±Ø¯Ø§ÙŠØ©","ØºÙ„ÙŠØ²Ø§Ù†","ØªÙŠÙ…ÙŠÙ…ÙˆÙ†","Ø¨Ø±Ø¬ Ø¨Ø§Ø¬ÙŠ Ù…Ø®ØªØ§Ø±",
      "Ø£ÙˆÙ„Ø§Ø¯ Ø¬Ù„Ø§Ù„","Ø¨Ù†ÙŠ Ø¹Ø¨Ø§Ø³","Ø¹ÙŠÙ† ØµØ§Ù„Ø­","Ø¹ÙŠÙ† Ù‚Ø²Ø§Ù…","ØªÙ‚Ø±Øª","Ø¬Ø§Ù†Øª","Ø§Ù„Ù…ØºÙŠØ±","Ø§Ù„Ù…Ù†ÙŠØ¹Ø©"
    ];
    function populateWilayas(){
      const sel = document.getElementById('wilaya');
      wilayasList.forEach(w=>{
        const opt = document.createElement('option');
        opt.value = w;
        opt.textContent = w;
        sel.appendChild(opt);
      });
    }
    populateWilayas();

    /* ======= Submit order (sends JSON to Apps Script) ======= */
    async function submitOrder(e){
      if(e && e.preventDefault) e.preventDefault();
      const name = document.getElementById('custName').value.trim();
      const phone = document.getElementById('custPhone').value.trim();
      const wilaya = document.getElementById('wilaya').value;
      const address = document.getElementById('address').value.trim();
      const notes = document.getElementById('notes').value.trim();

      if(!name || !phone || !wilaya || cart.length===0){
        alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø£ÙƒÙ…Ù„ Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ù‡Ø§ØªÙØŒ Ø§Ù„ÙˆÙ„Ø§ÙŠØ© ÙˆØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ø³Ù„Ø©.");
        return false;
      }

      recalculate();
      const subtotal = parseInt(document.getElementById('subtotalInput').value||0,10);
      const shipping = parseInt(document.getElementById('shippingInput').value||0,10);
      const total = parseInt(document.getElementById('totalInput').value||0,10);

      const payload = {
        timestamp: new Date().toISOString(),
        name, phone, wilaya, address, notes,
        cart: cart,
        subtotal, shipping, total
      };

      try{
        const res = await fetch(SCRIPT_URL, {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify(payload)
        });
        const data = await res.json().catch(()=>null);
        // expect success JSON {status:'success'}
        if(!res.ok || (data && data.status==='error')){
          throw new Error((data && data.message) ? data.message : 'Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨. ØªØ­Ù‚Ù‚ Ù…Ù† SCRIPT_URL ÙÙŠ Ø§Ù„ÙƒÙˆØ¯.');
        }
        // clear cart and redirect to thankyou
        clearCart();
        window.location.href = 'thankyou.html';
      } catch(err){
        console.error(err);
        alert('Ø­ØµÙ„ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨: ' + err.message + '\nØªØ£ÙƒØ¯ Ù…Ù† Ù†Ø´Ø± Google Apps Script ÙˆÙˆØ¶Ø¹ Ø±Ø§Ø¨Ø· Web App ÙÙŠ Ø§Ù„Ù…ØªØºÙŠØ± SCRIPT_URL.');
      }
      return false;
    }

    /* ======= helpers: scroll ======= */
    function scrollToCheckout(){ document.getElementById('checkoutSection').scrollIntoView({behavior:'smooth'}); }

    /* ======= init ======= */
    (function init(){
      // default selectedOffer highlight
      chooseOffer('one');
      // load cart from storage
      loadCart();
      // initial recalc
      recalculate();
    })();

    // expose certain functions to global for inline onclick in HTML (removeFromCart used)
    window.addToCart = addToCart;
    window.removeFromCart = removeFromCart;
    window.addOfferToCart = addOfferToCart;
    window.buyNow = buyNow;
    window.chooseOffer = chooseOffer;
    window.toggleCartBox = toggleCartBox;
    window.scrollToCheckout = scrollToCheckout;
    window.showCartBox = showCartBox;
    window.hideCartBox = hideCartBox;

  </script>

</body>
</html>

