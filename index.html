<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ุฎูุทุฉ ุงูุนุณู ูุญุจูุจ ุงูููุงุญ ูููููุงุช ุทุจูุนูุฉ ูุชูููุฉ ุงูููุงุนุฉ โ ููุงุญู ุขู ุงูุจูุณุนูุฏู</title>
<meta name="description" content="ุฎูุทุฉ ุงูุนุณู ุงูุฌุจูู ูุญุจูุจ ุงูููุงุญ ูุชุนุฒูุฒ ููุงุนุฉ ุงูุฃุทูุงูุ ุชุญุณูู ุงูุชุฑููุฒ ูุงููููุ ูุงูุชุนุงุด ุงููุดุงุท. ุงุทูุจ ุงูุขู ูุน ุชูุตูู ุณุฑูุน." />
<meta name="keywords" content="ุนุณู, ุญุจูุจ ุงูููุงุญ, ููุงุนุฉ, ุฃุทูุงู, ุชุฑููุฒ, ููู, ููุงุญู" />
<style>
  /* ===== reset + base ===== */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;padding:0;font-family: 'Cairo', system-ui, sans-serif;background:#fff7ea;color:#2f2a20}
  a{color:inherit}
  .container{max-width:1000px;margin:0 auto;padding:16px}
  header{display:flex;align-items:center;justify-content:space-between;padding:12px 0}
  .logo-placeholder{font-weight:800;color:#b76b08;font-size:18px}
  nav a{margin-left:12px;color:#5a3c10;text-decoration:none;font-weight:600}
  /* hero */
  .hero{background:linear-gradient(180deg, rgba(244,212,148,0.15), rgba(255,255,255,0.6));padding:20px;border-radius:14px;display:flex;gap:18px;align-items:center;flex-wrap:wrap}
  .hero-left{flex:1;min-width:280px}
  .hero-left h1{margin:6px 0;font-size:22px;color:#3b2a11}
  .lead{color:#6a4f2a;margin:8px 0 14px}
  .hero-right{width:320px;min-width:260px}
  .product-img{width:100%;border-radius:12px;display:block}
  /* offers */
  .offers{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
  .offer-card{background:#fff;border-radius:12px;padding:10px 12px;border:1px solid #f0d9b2;cursor:pointer;min-width:160px;text-align:center}
  .offer-card.active{border-color:#f47c00;box-shadow:0 8px 24px rgba(244,124,0,0.08)}
  .price-display{font-weight:800;font-size:20px;color:#3b2a11;margin-top:12px}
  /* main grid */
  .main-grid{display:grid;grid-template-columns:1fr 360px;gap:18px;align-items:start;margin-top:18px}
  @media(max-width:980px){.main-grid{grid-template-columns:1fr;padding:0}}
  .card{background:#fff;border-radius:12px;padding:14px;box-shadow:0 6px 18px rgba(0,0,0,0.05)}
  /* form */
  form label{display:block;text-align:right;margin:8px 0 6px;font-weight:700;color:#4b3a24}
  input[type="text"], input[type="tel"], select, textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e9d8b8;font-size:15px}
  .upsells{margin-top:10px}
  .upsell-row{display:flex;align-items:center;gap:8px;margin:8px 0}
  .summary{background:#fff7e6;padding:10px;border-radius:8px;margin-top:10px;text-align:right}
  .summary div{display:flex;justify-content:space-between;padding:6px 0}
  .total-row{font-weight:900;font-size:18px;border-top:1px dashed #ecd7a6;margin-top:6px;padding-top:8px}
  .btn-confirm{background:#2f9b46;color:#fff;border:none;padding:12px;border-radius:10px;width:100%;font-weight:800;cursor:pointer}
  .btn-primary{background:#f47c00;color:#fff;border:none;padding:10px 14px;border-radius:10px;cursor:pointer}
  .small{font-size:13px;color:#7b6852}
  /* cart */
  .cart{margin-top:12px}
  .cart-item{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px dashed #efe0bf}
  .cart-controls button{background:transparent;border:1px solid #eee;padding:4px 8px;border-radius:6px;cursor:pointer}
  /* sticky/phone */
  .sticky-order{position:fixed;left:0;right:0;bottom:0;background:#f47c00;color:white;padding:12px;border:none;font-size:18px;font-weight:800;z-index:999;border-top-left-radius:8px;border-top-right-radius:8px}
  .call-button{position:fixed;left:16px;bottom:76px;background:#2f2a20;color:#fff;padding:12px;border-radius:999px;z-index:999;box-shadow:0 8px 20px rgba(0,0,0,0.12)}
  footer{margin-top:24px;padding:20px;text-align:center;color:#6b573f;background:transparent}
</style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo-placeholder">ููุงุญู ูุนุณู ุขู ุงูุจูุณุนูุฏู</div>
      <nav>
        <a href="#home">ุงูุฑุฆูุณูุฉ</a>
        <a href="#products">ููุชุฌุงุชูุง</a>
        <a href="#articles">ููุงูุงุช</a>
        <a href="#about">ูู ูุญู</a>
        <a href="#contact">ุงุชุตู ุจูุง</a>
      </nav>
    </header>

    <!-- HERO -->
    <section id="home" class="hero">
      <div class="hero-left">
        <h1>ุฎูุทุฉ ุงูุนุณู ูุญุจูุจ ุงูููุงุญ ูููููุงุช ุทุจูุนูุฉ ุฃุฎุฑู ูุชูููุฉ ุงูููุงุนุฉ</h1>
        <p class="lead">ุชุฑููุจุฉ ุทุจูุนูุฉ ุขููุฉ ููุฃุทูุงู ูุชุนุฒูุฒ ุงูููุงุนุฉ ุถุฏ ุฃูุฑุงุถ ุงูุดุชุงุกุ ุฏุนู ุงููููุ ุชุญุณูู ุงูุชุฑููุฒ ูุงูููู ุงูุนููู โ ุฌุฑุจ ุงููุฑู ูู ุฃูู ุฃุณุจูุน.</p>

        <div class="offers" id="offersContainer" aria-hidden="false"></div>
        <div class="price-display">ุงูุณุนุฑ: <span id="displayPrice">2800 ุฏุฌ</span></div>

        <div style="margin-top:12px">
          <button class="btn-primary" onclick="scrollToForm()">๐ ุฃุทูุจ ุงูุขู</button>
          <a class="small" href="tel:+213662277555" style="margin-left:12px">๐ 0662 277 555</a>
        </div>

        <div style="margin-top:16px" class="card">
          <h3 style="text-align:right">ููุงุฐุง ูุฐู ุงูุฎูุทุฉุ</h3>
          <p class="small" style="text-align:right">ูุฒูุฌ ูู ุงูุนุณู ุงูุฌุจููุ ุญุจูุจ ุงูููุงุญ ุงูุทุงุฒุฌุฉุ ุบุฐุงุก ูููุงุช ุงููุญูุ ุงูุจุฑูุจูููุณ ููุดุชูุงุช ุงูุนูุจุฑ โ ููุชุงุฆุฌ ุบุฐุงุฆูุฉ ุชุฏุนู ููุงุนุฉ ูููู ุงูุทูู ุฏูู ุฅุถุงูุงุช ุตูุงุนูุฉ.</p>
        </div>
      </div>

      <aside class="hero-right card">
        <img src="assets/images/product.jpg" alt="ููุชุฌ ุฎูุทุฉ ุงูุนุณู" class="product-img">
        <div class="small" style="text-align:center"> ุตูุฑุฉ ุชูุถูุญูุฉ โ ุถุน ุตูุฑุฉ ุงูููุชุฌ ุงููุนููุฉ ูู assets/images/product.jpg</div>
      </aside>
    </section>

    <!-- MAIN GRID: FORM + DETAILS -->
    <div class="main-grid container">
      <!-- LEFT: ุชูุงุตูู -->
      <div>
        <section id="products" class="card">
          <h3 style="text-align:right">ููุชุฌุงุช ุฅุถุงููุฉ (Upsells)</h3>
          <div class="upsell-row"><button class="btn-primary" onclick="addToCart('ุฎูุทุฉ ุงูุชุจูู ุงููุงุงุฑุงุฏู',3200)">ุฃุถู</button><div style="text-align:right"><strong>ุฎูุทุฉ ุงูุชุจูู ุงููุงุงุฑุงุฏู</strong><div class="small">3200 ุฏุฌ</div></div></div>
          <div class="upsell-row"><button class="btn-primary" onclick="addToCart('ุฎูุทุฉ ุงูููุฉ ููุฑุฌุงู',3500)">ุฃุถู</button><div style="text-align:right"><strong>ุฎูุทุฉ ุงูููุฉ ููุฑุฌุงู</strong><div class="small">3500 ุฏุฌ</div></div></div>
          <div class="upsell-row"><button class="btn-primary" onclick="addToCart('ุฎูุทุฉ ุงูุชุณููู',3000)">ุฃุถู</button><div style="text-align:right"><strong>ุฎูุทุฉ ุงูุชุณููู</strong><div class="small">3000 ุฏุฌ</div></div></div>
          <div class="upsell-row"><button class="btn-primary" onclick="addToCart('ุฎูุทุฉ ุงูุณุนุงู ูุงูุจูุบู',2800)">ุฃุถู</button><div style="text-align:right"><strong>ุฎูุทุฉ ุงูุณุนุงู ูุงูุจูุบู</strong><div class="small">2800 ุฏุฌ</div></div></div>
          <div class="upsell-row"><button class="btn-primary" onclick="addToCart('ุนุณู ุงูุฃุฒูุงุฑ',2400)">ุฃุถู</button><div style="text-align:right"><strong>ุนุณู ุงูุฃุฒูุงุฑ</strong><div class="small">2400 ุฏุฌ</div></div></div>
          <div class="upsell-row"><button class="btn-primary" onclick="addToCart('ุนุณู ุงูุณุฏุฑ',3000)">ุฃุถู</button><div style="text-align:right"><strong>ุนุณู ุงูุณุฏุฑ</strong><div class="small">3000 ุฏุฌ</div></div></div>
        </section>

        <section id="benefits" class="card" style="margin-top:14px">
          <h3 style="text-align:right">ููุงุฆุฏ ุงูุฎูุทุฉ</h3>
          <ul style="text-align:right;color:#5d4630">
            <li>ุชุนุฒูุฒ ููุงุนุฉ ุงูุทูู ุถุฏ ูุฒูุงุช ุงูุจุฑุฏ ูุงูุฃูููููุฒุง.</li>
            <li>ุชุญุณูู ุงูุชุฑููุฒ ูุงูุฐุงูุฑุฉ ูุชุณููู ุงูุชุนูู.</li>
            <li>ููู ุนููู ุตุญูุ ููุดุงุท ุตุจุงุญู ูุงุถุญ.</li>
            <li>ุฒูุงุฏุฉ ุงูุดููุฉ ุจุตูุฑุฉ ุตุญูุฉ ูุฏุนู ุงูููู.</li>
          </ul>
        </section>

        <section id="ingredients" class="card" style="margin-top:14px">
          <h3 style="text-align:right">ุงูููููุงุช</h3>
          <div style="display:flex;gap:12px;flex-wrap:wrap;justify-content:center">
            <div style="width:120px;text-align:center"><img src="assets/images/honey.jpg" style="width:100%;border-radius:8px"><div class="small">ุงูุนุณู ุงูุฌุจูู</div></div>
            <div style="width:120px;text-align:center"><img src="assets/images/pollen.jpg" style="width:100%;border-radius:8px"><div class="small">ุญุจูุจ ุงูููุงุญ</div></div>
            <div style="width:120px;text-align:center"><img src="assets/images/royaljelly.jpg" style="width:100%;border-radius:8px"><div class="small">ุบุฐุงุก ุงููููุงุช</div></div>
            <div style="width:120px;text-align:center"><img src="assets/images/propolis.jpg" style="width:100%;border-radius:8px"><div class="small">ุจุฑูุจูููุณ/ุนูุจุฑ</div></div>
          </div>
        </section>

        <section id="reviews" class="card" style="margin-top:14px">
          <h3 style="text-align:right">ุขุฑุงุก ุงูุฒุจุงุฆู</h3>
          <div class="small" style="text-align:right">"ุจุนุฏ ุงุณุชุฎุฏุงู ุงูุฎูุทุฉ ุดูุฑ ูุงุญุฏ ูุงุญุธุช ุฃู ุทููู ุฃูู ูุฑุถุงู ููุฏ ุชุญุณู ุชุฑููุฒู" โ ุฃู ุฃูููุ ุงูุฌุฒุงุฆุฑ ุงูุนุงุตูุฉ</div>
          <div style="height:8px"></div>
          <div class="small" style="text-align:right">"ุงูุชูุตูู ูุงู ุณุฑูุน ูุงูููุชุฌ ุทุจูุนู ุฌุฏุงู" โ ุณุงุฑุฉุ ููุฑุงู</div>
          <div style="height:8px"></div>
          <div class="small" style="text-align:right">"ุงุจูู ูุงู ุจุณูููุฉ ูุงุณุชููุธ ุจูุดุงุท" โ ูุงุทูุฉุ ูุณูุทููุฉ</div>
        </section>
      </div>

     <!-- RIGHT: form + cart -->
    <aside class="card" id="formCard">
      <h3 style="margin-top:0">ููุทูุจ ุงูุชุจ ูุนูููุงุชู ุฃุณููู</h3>
      <div class="field">
        <label>ุงูุนุฑุถ ุงููุฎุชุงุฑ</label>
        <select id="offerSelect" aria-label="ุงุฎุชุฑ ุงูุนุฑุถ" onchange="offerSelectChanged()">
          <option value="1">ุนุจูุฉ ูุงุญุฏุฉ โ 2800 ุฏุฌ</option>
          <option value="2">ุนุจูุชูู โ 5600 ุฏุฌ (ุชูุตูู ูุฌุงูู)</option>
          <option value="3">3 ุนุจูุงุช + 1 ูุฏูุฉ โ 8400 ุฏุฌ (ุชูุตูู ูุฌุงูู)</option>
        </select>
      </div>

      <form id="orderForm">
        <div class="field">
          <label>ุงูุงุณู ุงููุงูู</label>
          <input id="name" name="name" type="text" placeholder="ุงูุงุณู ุงููุงูู" required>
        </div>

        <div class="field">
          <label>ุฑูู ุงููุงุชู</label>
          <input id="phone" name="phone" type="tel" placeholder="07XXXXXXXX" pattern="[0-9]{10}" required>
        </div>

        <div class="field">
          <label>ุงูููุงูุฉ</label>
          <select id="wilaya" name="wilaya" required>
            <option value="">ุงุฎุชุฑ ููุงูุชู</option>
            <option>ุงูุฌุฒุงุฆุฑ</option><option>ุงูุจููุฏุฉ</option><option>ุจููุฑุฏุงุณ</option><option>ุชูุจุงุฒุฉ</option>
            <option>ุชูุฒู ูุฒู</option><option>ุงูุจููุฑุฉ</option><option>ุงููุฏูุฉ</option><option>ุนูู ุงูุฏููู</option>
            <option>ุงูุดูู</option><option>ููุฑุงู</option><option>ูุณุชุบุงูู</option><option>ูุนุณูุฑ</option>
            <option>ุบููุฒุงู</option><option>ุณูุฏู ุจูุนุจุงุณ</option><option>ุชููุณุงู</option><option>ุณุนูุฏุฉ</option>
            <option>ุชูุงุฑุช</option><option>ุชูุณูุณููุช</option><option>ุงูุฌููุฉ</option><option>ุงูุฃุบูุงุท</option>
            <option>ุจุฑุฌ ุจูุนุฑูุฑูุฌ</option><option>ุณุทูู</option><option>ุจุงุชูุฉ</option><option>ูุณูุทููุฉ</option>
            <option>ุฃู ุงูุจูุงูู</option><option>ูุงููุฉ</option><option>ุณูู ุฃูุฑุงุณ</option><option>ุนูุงุจุฉ</option>
            <option>ุงูุทุงุฑู</option><option>ุฎูุดูุฉ</option><option>ุชุจุณุฉ</option><option>ุงููุณููุฉ</option>
            <option>ุจุฌุงูุฉ</option><option>ุฌูุฌู</option><option>ูููุฉ</option><option>ุจุณูุฑุฉ</option>
            <option>ุงููุงุฏู</option><option>ูุฑููุฉ</option><option>ุบุฑุฏุงูุฉ</option><option>ุงูุจูุถ</option>
            <option>ุงููุนุงูุฉ</option><option>ุฃุฏุฑุงุฑ</option><option>ุชููุฑุงุณุช</option><option>ุฅูููุฒู</option>
            <option>ุฌุงูุช</option><option>ุฅู ุตุงูุญ</option><option>ุจุฑุฌ ุจุงุฌู ูุฎุชุงุฑ</option>
          </select>
        </div>

        <!-- hidden fields -->
        <input type="hidden" id="offerField" name="offer" value="ุนุจูุฉ ูุงุญุฏุฉ โ 2800">
        <input type="hidden" id="price_items" name="price_items" value="2800">
        <input type="hidden" id="price_cart" name="price_cart" value="0">
        <input type="hidden" id="price_shipping" name="price_shipping" value="0">
        <input type="hidden" id="total_price" name="total" value="2800">

        <!-- summary -->
        <div class="summary">
          <div class="row"><div>ุณุนุฑ ุงูุนุจูุงุช:</div><div id="ui_price_items">2800 ุฏุฌ</div></div>
          <div class="row"><div>ุณุนุฑ ุงูุณูุฉ:</div><div id="ui_price_cart">0 ุฏุฌ</div></div>
          <div class="row"><div>ุณุนุฑ ุงูุชูุตูู:</div><div id="ui_price_shipping">0 ุฏุฌ</div></div>
          <div class="row total"><div>ุงููุฌููุน ุงูููู:</div><div id="ui_total">2800 ุฏุฌ</div></div>
        </div>

        <button type="submit" class="confirm">โ ุชุฃููุฏ ุงูุทูุจ ุงูุขู</button>
      </form>

      <!-- cart -->
      <div class="cart" id="cartBox">
        <strong>ุณูุฉ ุงููุดุชุฑูุงุช</strong>
        <div id="cartList" style="margin-top:8px;color:var(--muted)">ุงูุณูุฉ ูุงุฑุบุฉ โ ุฃุถู ููุชุฌุงุช ุฅุถุงููุฉ ูู ุงูุฃุณูู</div>
      </div>

      <!-- UPSSELLS -->
      <div class="upsells">
        <div class="upsell">
          <img src="upsell-kids.jpg" alt="">
          <div style="margin-top:8px;font-weight:700">ุฎูุทุฉ ุงูุชุจูู ุงููุงุงุฑุงุฏู ุนูุฏ ุงูุฃุทูุงู</div>
          <div class="small">3200 ุฏุฌ</div>
          <button onclick="addToCart('ุฎูุทุฉ ุงูุชุจูู ุงููุงุงุฑุงุฏู ุนูุฏ ุงูุงุทูุงู',3200)">ุฃุถู ููุณูุฉ</button>
        </div>
        <div class="upsell">
          <img src="upsell-men.jpg" alt="">
          <div style="margin-top:8px;font-weight:700">ุฎูุทุฉ ุงูููุฉ ุงูุฌูุณูุฉ ููุฑุฌุงู</div>
          <div class="small">3500 ุฏุฌ</div>
          <button onclick="addToCart('ุฎูุทุฉ ุงูููุฉ ุงูุฌูุณูุฉ ููุฑุฌุงู',3500)">ุฃุถู ููุณูุฉ</button>
        </div>
        <div class="upsell">
          <img src="upsell-weight.jpg" alt="">
          <div style="margin-top:8px;font-weight:700">ุฎูุทุฉ ุงูุชุณููู ุงูุทุจูุนู</div>
          <div class="small">3000 ุฏุฌ</div>
          <button onclick="addToCart('ุฎูุทุฉ ุงูุชุณููู ุงูุทุจูุนู',3000)">ุฃุถู ููุณูุฉ</button>
        </div>
        <div class="upsell">
          <img src="upsell-cough.jpg" alt="">
          <div style="margin-top:8px;font-weight:700">ุฎูุทุฉ ุงูุณุนุงู ูุงูุจูุบู</div>
          <div class="small">2800 ุฏุฌ</div>
          <button onclick="addToCart('ุฎูุทุฉ ุงูุณุนุงู ูุงูุจูุบู',2800)">ุฃุถู ููุณูุฉ</button>
        </div>
        <div class="upsell">
          <img src="upsell-flower.jpg" alt="">
          <div style="margin-top:8px;font-weight:700">ุนุณู ุงูุฃุฒูุงุฑ (250ุบ)</div>
          <div class="small">2200 ุฏุฌ</div>
          <button onclick="addToCart('ุนุณู ุงูุงุฒูุงุฑ',2200)">ุฃุถู ููุณูุฉ</button>
        </div>
        <div class="upsell">
          <img src="upsell-sidr.jpg" alt="">
          <div style="margin-top:8px;font-weight:700">ุนุณู ุงูุณุฏุฑ (250ุบ)</div>
          <div class="small">4200 ุฏุฌ</div>
          <button onclick="addToCart('ุนุณู ุงูุณุฏุฑ',4200)">ุฃุถู ููุณูุฉ</button>
        </div>
      </div>

    </aside>
  </div>

  <div class="footer">
    <div>ุณูุงุณุฉ ุงูุฅุฑุฌุงุน: ุงุณุชุฑุฌุงุน ุฎูุงู 7 ุฃูุงู ุนูุฏ ูุฌูุฏ ุชูู ุฃู ุนุฏู ูุทุงุจูุฉ.</div>
    <div style="margin-top:8px">ยฉ 2025 ููุงุญู ูุนุณู ุขู ุงูุจูุณุนูุฏู โ ุฌููุน ุงูุญููู ูุญููุธุฉ</div>
  </div>
</div>

<button class="sticky-order" onclick="goToName()">๐ ุงุทูุจ ุงูุขู</button>

<script>
/* ==== ุถุน ุฑุงุจุท Web App ููุง (ุฑุงุจุท /exec ูู Google Apps Script) ==== */
const WEBAPP_URL = "https://script.google.com/macros/s/AKfycbwgRZm4ppj_HRz-gaDf4UKg-9aN7bYots2xEGsoQPQ2eno_dK0NHsNIwGZg7wriI6YULQ/exec";
/* ==== ุซุงุจุช ุงูุณุนุฑ ููุงุฆูุฉ ุงูุดุญู ุญุณุจ ุงูููุงูุฉ ==== */
const UNIT_PRICE = 2800;
const shippingTable = { "ุงูุฌุฒุงุฆุฑ":400,"ุงูุจููุฏุฉ":400,"ุจููุฑุฏุงุณ":400,"ุชูุจุงุฒุฉ":400,"ุชูุฒู ูุฒู":700,"ุงูุจููุฑุฉ":700,"ุงููุฏูุฉ":700,"ุนูู ุงูุฏููู":700,"ุงูุดูู":700,"ููุฑุงู":800,"ูุณุชุบุงูู":800,"ูุนุณูุฑ":800,"ุบููุฒุงู":800,"ุณูุฏู ุจูุนุจุงุณ":800,"ุชููุณุงู":900,"ุณุนูุฏุฉ":900,"ุชูุงุฑุช":900,"ุชูุณูุณููุช":900,"ุงูุฌููุฉ":900,"ุงูุฃุบูุงุท":900,"ุจุฑุฌ ุจูุนุฑูุฑูุฌ":900,"ุณุทูู":900,"ุจุงุชูุฉ":900,"ูุณูุทููุฉ":1000,"ุฃู ุงูุจูุงูู":1000,"ูุงููุฉ":1000,"ุณูู ุฃูุฑุงุณ":1000,"ุนูุงุจุฉ":1000,"ุงูุทุงุฑู":1000,"ุฎูุดูุฉ":1000,"ุชุจุณุฉ":1000,"ุงููุณููุฉ":1000,"ุจุฌุงูุฉ":1000,"ุฌูุฌู":1000,"ูููุฉ":1000,"ุจุณูุฑุฉ":1100,"ุงููุงุฏู":1100,"ูุฑููุฉ":1100,"ุบุฑุฏุงูุฉ":1100,"ุงูุจูุถ":1100,"ุงููุนุงูุฉ":1300,"ุฃุฏุฑุงุฑ":1300,"ุชููุฑุงุณุช":1300,"ุฅูููุฒู":1300,"ุฌุงูุช":1300,"ุฅู ุตุงูุญ":1300,"ุจุฑุฌ ุจุงุฌู ูุฎุชุงุฑ":1300 };

/* ==== ุญุงูุฉ ุงูุณูุฉ ูุงูุนุฑูุถ ==== */
let cart = [];
const offerCards = document.querySelectorAll('.offer-card');
const offerSelect = document.getElementById('offerSelect');
const ui_price_items = document.getElementById('ui_price_items');
const ui_price_cart = document.getElementById('ui_price_cart');
const ui_price_shipping = document.getElementById('ui_price_shipping');
const ui_total = document.getElementById('ui_total');

/* ===== functions ===== */
function selectOfferCard(el){
  offerCards.forEach(c=>c.classList.remove('active'));
  el.classList.add('active');
  const offer = el.getAttribute('data-offer');
  const price = parseInt(el.getAttribute('data-price')) || UNIT_PRICE;
  // Update select and hidden fields
  document.getElementById('offerSelect').value = offer;
  document.getElementById('offerField').value = (offer==='1' ? 'ุนุจูุฉ ูุงุญุฏุฉ โ 2800' : (offer==='2' ? 'ุนุจูุชูู โ 5600' : '3 ุนุจูุงุช + 1 โ 8400'));
  document.getElementById('price_items').value = price;
  computePrices();
  document.getElementById('formCard').scrollIntoView({behavior:'smooth',block:'center'});
}

function offerSelectChanged(){
  const v = document.getElementById('offerSelect').value;
  // map select values to price & active card
  const map = { "1":2800, "2":5600, "3":8400 };
  const price = map[v] || UNIT_PRICE;
  document.getElementById('price_items').value = price;
  // sync cards
  offerCards.forEach(c => { if(c.getAttribute('data-offer')===v) c.classList.add('active'); else c.classList.remove('active'); });
  document.getElementById('offerField').value = (v==='1' ? 'ุนุจูุฉ ูุงุญุฏุฉ โ 2800' : (v==='2' ? 'ุนุจูุชูู โ 5600' : '3 ุนุจูุงุช + 1 โ 8400'));
  computePrices();
}

function addToCart(name, price){
  const idx = cart.findIndex(i=>i.name===name);
  if(idx>-1) cart[idx].qty += 1; else cart.push({name, price, qty:1});
  renderCart(); computePrices();
}

function changeQty(i,delta){ cart[i].qty = Math.max(1, cart[i].qty + delta); renderCart(); computePrices(); }
function removeFromCart(i){ cart.splice(i,1); renderCart(); computePrices(); }

function renderCart(){
  const el = document.getElementById('cartList');
  if(!cart.length){ el.innerHTML = '<div class="small">ุงูุณูุฉ ูุงุฑุบุฉ โ ุฃุถู ููุชุฌุงุช ุฅุถุงููุฉ</div>'; document.getElementById('price_cart').value = 0; ui_price_cart.textContent = '0 ุฏุฌ'; return; }
  el.innerHTML = '';
  cart.forEach((it, idx)=>{
    const row = document.createElement('div'); row.style.display='flex'; row.style.justifyContent='space-between'; row.style.alignItems='center'; row.style.marginBottom='8px';
    row.innerHTML = `<div><strong>${it.name}</strong><div class="small">${it.price} ุฏุฌ ร ${it.qty}</div></div>
      <div style="display:flex;gap:8px;align-items:center">
        <button onclick="changeQty(${idx},-1)">โ</button>
        <button onclick="changeQty(${idx},1)">+</button>
        <button onclick="removeFromCart(${idx})" style="background:#ff6b6b;color:#fff;border-radius:6px;padding:6px 8px;border:0">ุญุฐู</button>
      </div>`;
    el.appendChild(row);
  });
}

/* ุญุณุงุจ ุงูุฃุณุนุงุฑ */
function computePrices(){
  const offerText = document.getElementById('offerField').value || 'ุนุจูุฉ ูุงุญุฏุฉ โ 2800';
  const priceItems = parseInt(document.getElementById('price_items').value) || UNIT_PRICE;
  const cartSum = cart.reduce((s,i)=> s + i.price * i.qty, 0);
  const wilaya = document.getElementById('wilaya').value;
  let shipping = shippingTable[wilaya] || 0;
  // ููุงุนุฏ: ุนุฑูุถ 2 ู 3 ุดุญู ูุฌุงูู
  if(offerText.includes('ุนุจูุชูู') || offerText.includes('3 ุนุจูุงุช')) shipping = 0;
  const total = priceItems + cartSum + shipping;
  ui_price_items.textContent = priceItems + ' ุฏุฌ';
  ui_price_cart.textContent = cartSum + ' ุฏุฌ';
  ui_price_shipping.textContent = (shipping===0 ? 'ูุฌุงูู' : shipping + ' ุฏุฌ');
  ui_total.textContent = total + ' ุฏุฌ';
  // hidden inputs
  document.getElementById('price_items').value = priceItems;
  document.getElementById('price_cart').value = cartSum;
  document.getElementById('price_shipping').value = shipping;
  document.getElementById('total_price').value = total;
  return {priceItems, cartSum, shipping, total};
}

/* ุงูุชูุงู ุฅูู ุงูุฎุงูุฉ ุงูุงุณู */
function goToName(){ document.getElementById('name').scrollIntoView({behavior:'smooth',block:'center'}); document.getElementById('name').focus(); }

/* init hidden inputs if not present */
document.addEventListener('DOMContentLoaded', function(){
  if(!document.getElementById('offerField')){ const inp=document.createElement('input'); inp.type='hidden'; inp.id='offerField'; inp.name='offer'; inp.value='ุนุจูุฉ ูุงุญุฏุฉ โ 2800'; document.getElementById('orderForm').appendChild(inp); }
  if(!document.getElementById('price_items')){ const x=document.createElement('input'); x.type='hidden'; x.id='price_items'; x.name='price_items'; x.value=2800; document.getElementById('orderForm').appendChild(x); }
  if(!document.getElementById('price_cart')){ const x=document.createElement('input'); x.type='hidden'; x.id='price_cart'; x.name='price_cart'; x.value=0; document.getElementById('orderForm').appendChild(x); }
  if(!document.getElementById('price_shipping')){ const x=document.createElement('input'); x.type='hidden'; x.id='price_shipping'; x.name='price_shipping'; x.value=0; document.getElementById('orderForm').appendChild(x); }
  if(!document.getElementById('total_price')){ const x=document.createElement('input'); x.type='hidden'; x.id='total_price'; x.name='total'; x.value=2800; document.getElementById('orderForm').appendChild(x); }
  computePrices();
});

/* ุฅุฑุณุงู ุงูููุฑู ุนุจุฑ fetch ุฅูู Google Apps Script */
document.getElementById('orderForm').addEventListener('submit', function(e){
  e.preventDefault();
  // validate phone
  const phone = document.getElementById('phone').value.trim();
  if(!/^[0-9]{10}$/.test(phone)){ alert('ุฑุฌุงุกู ุฃุฏุฎู ุฑูู ูุงุชู ุตุงูุญ ููููู ูู 10 ุฃุฑูุงู'); document.getElementById('phone').focus(); return; }
  // build FormData
  const fd = new FormData();
  fd.append('name', document.getElementById('name').value.trim());
  fd.append('phone', phone);
  fd.append('wilaya', document.getElementById('wilaya').value);
  fd.append('offer', document.getElementById('offerField').value);
  fd.append('price_items', document.getElementById('price_items').value);
  fd.append('price_cart', document.getElementById('price_cart').value);
  fd.append('price_shipping', document.getElementById('price_shipping').value);
  fd.append('total', document.getElementById('total_price').value);
  // include cart items as upsell[]
  cart.forEach(item => fd.append('upsell[]', `${item.name} x${item.qty} (${item.price} ุฏุฌ)`));
  // send
  if(!WEBAPP_URL || WEBAPP_URL.includes("PUT_YOUR_WEBAPP_URL_HERE")){ alert('ุฎุทุฃ: ูู ุชูู ุจุฅุนุฏุงุฏ ุฑุงุจุท Web App. ุงูุชุญ ุงูููุฏ ูุนููู WEBAPP_URL.'); return; }
  fetch(WEBAPP_URL, { method: 'POST', body: fd })
    .then(r => r.json())
    .then(res => {
      if(res.result === 'success'){ cart=[]; renderCart(); computePrices(); window.location.href = "thankyou.html"; }
      else { alert('ุฎุทุฃ ูู ุงูุฅุฑุณุงู: ' + (res.message||'')); }
    })
    .catch(err => { console.error(err); alert('ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุฅุฑุณุงู. ุชุฃูุฏ ูู ุฑุงุจุท Web App ูุฃูู ููุดูุฑ (Who has access = Tout le monde).'); });
});
</script>
</body>
</html>




























