<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ุฎูุทุฉ ุงูุนุณู ูุญุจูุจ ุงูููุงุญ ูููููุงุช ุทุจูุนูุฉ ูุชูููุฉ ุงูููุงุนุฉ โ ููุงุญู ุขู ุงูุจูุณุนูุฏู</title>
<meta name="description" content="ุฎูุทุฉ ุงูุนุณู ุงูุฌุจูู ูุญุจูุจ ุงูููุงุญ ูุชุนุฒูุฒ ููุงุนุฉ ุงูุฃุทูุงูุ ุชุญุณูู ุงูุชุฑููุฒ ูุงููููุ ูุงูุชุนุงุด ุงููุดุงุท. ุงุทูุจ ุงูุขู ูุน ุชูุตูู ุณุฑูุน." />
<meta name="keywords" content="ุนุณู, ุญุจูุจ ุงูููุงุญ, ููุงุนุฉ, ุฃุทูุงู, ุชุฑููุฒ, ููู, ููุงุญู" />
<style>
  /* ===== reset + base ===== */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;padding:0;font-family: 'Cairo', system-ui, sans-serif;background:#fff7ea;color:#2f2a20}
  a{color:inherit}
  .container{max-width:1000px;margin:0 auto;padding:16px}
  header{display:flex;align-items:center;justify-content:space-between;padding:12px 0}
  .logo-placeholder{font-weight:800;color:#b76b08;font-size:18px}
  nav a{margin-left:12px;color:#5a3c10;text-decoration:none;font-weight:600}
  /* hero */
  .hero{background:linear-gradient(180deg, rgba(244,212,148,0.15), rgba(255,255,255,0.6));padding:20px;border-radius:14px;display:flex;gap:18px;align-items:center;flex-wrap:wrap}
  .hero-left{flex:1;min-width:280px}
  .hero-left h1{margin:6px 0;font-size:22px;color:#3b2a11}
  .lead{color:#6a4f2a;margin:8px 0 14px}
  .hero-right{width:320px;min-width:260px}
  .product-img{width:100%;border-radius:12px;display:block}
  /* offers */
  .offers{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
  .offer-card{background:#fff;border-radius:12px;padding:10px 12px;border:1px solid #f0d9b2;cursor:pointer;min-width:160px;text-align:center}
  .offer-card.active{border-color:#f47c00;box-shadow:0 8px 24px rgba(244,124,0,0.08)}
  .price-display{font-weight:800;font-size:20px;color:#3b2a11;margin-top:12px}
  /* main grid */
  .main-grid{display:grid;grid-template-columns:1fr 360px;gap:18px;align-items:start;margin-top:18px}
  @media(max-width:980px){.main-grid{grid-template-columns:1fr;padding:0}}
  .card{background:#fff;border-radius:12px;padding:14px;box-shadow:0 6px 18px rgba(0,0,0,0.05)}
  /* form */
  form label{display:block;text-align:right;margin:8px 0 6px;font-weight:700;color:#4b3a24}
  input[type="text"], input[type="tel"], select, textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e9d8b8;font-size:15px}
  .upsells{margin-top:10px}
  .upsell-row{display:flex;align-items:center;gap:8px;margin:8px 0}
  .summary{background:#fff7e6;padding:10px;border-radius:8px;margin-top:10px;text-align:right}
  .summary div{display:flex;justify-content:space-between;padding:6px 0}
  .total-row{font-weight:900;font-size:18px;border-top:1px dashed #ecd7a6;margin-top:6px;padding-top:8px}
  .btn-confirm{background:#2f9b46;color:#fff;border:none;padding:12px;border-radius:10px;width:100%;font-weight:800;cursor:pointer}
  .btn-primary{background:#f47c00;color:#fff;border:none;padding:10px 14px;border-radius:10px;cursor:pointer}
  .small{font-size:13px;color:#7b6852}
  /* cart */
  .cart{margin-top:12px}
  .cart-item{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px dashed #efe0bf}
  .cart-controls button{background:transparent;border:1px solid #eee;padding:4px 8px;border-radius:6px;cursor:pointer}
  /* sticky/phone */
  .sticky-order{position:fixed;left:0;right:0;bottom:0;background:#f47c00;color:white;padding:12px;border:none;font-size:18px;font-weight:800;z-index:999;border-top-left-radius:8px;border-top-right-radius:8px}
  .call-button{position:fixed;left:16px;bottom:76px;background:#2f2a20;color:#fff;padding:12px;border-radius:999px;z-index:999;box-shadow:0 8px 20px rgba(0,0,0,0.12)}
  footer{margin-top:24px;padding:20px;text-align:center;color:#6b573f;background:transparent}
</style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo-placeholder">ููุงุญู ูุนุณู ุขู ุงูุจูุณุนูุฏู</div>
      <nav>
        <a href="#home">ุงูุฑุฆูุณูุฉ</a>
        <a href="#products">ููุชุฌุงุชูุง</a>
        <a href="#articles">ููุงูุงุช</a>
        <a href="#about">ูู ูุญู</a>
        <a href="#contact">ุงุชุตู ุจูุง</a>
      </nav>
    </header>

    <!-- HERO -->
    <section id="home" class="hero">
      <div class="hero-left">
        <h1>ุฎูุทุฉ ุงูุนุณู ูุญุจูุจ ุงูููุงุญ ูููููุงุช ุทุจูุนูุฉ ุฃุฎุฑู ูุชูููุฉ ุงูููุงุนุฉ</h1>
        <p class="lead">ุชุฑููุจุฉ ุทุจูุนูุฉ ุขููุฉ ููุฃุทูุงู ูุชุนุฒูุฒ ุงูููุงุนุฉ ุถุฏ ุฃูุฑุงุถ ุงูุดุชุงุกุ ุฏุนู ุงููููุ ุชุญุณูู ุงูุชุฑููุฒ ูุงูููู ุงูุนููู โ ุฌุฑุจ ุงููุฑู ูู ุฃูู ุฃุณุจูุน.</p>

        <div class="offers" id="offersContainer" aria-hidden="false"></div>
        <div class="price-display">ุงูุณุนุฑ: <span id="displayPrice">2800 ุฏุฌ</span></div>

        <div style="margin-top:12px">
          <button class="btn-primary" onclick="scrollToForm()">๐ ุฃุทูุจ ุงูุขู</button>
          <a class="small" href="tel:+213662277555" style="margin-left:12px">๐ 0662 277 555</a>
        </div>

        <div style="margin-top:16px" class="card">
          <h3 style="text-align:right">ููุงุฐุง ูุฐู ุงูุฎูุทุฉุ</h3>
          <p class="small" style="text-align:right">ูุฒูุฌ ูู ุงูุนุณู ุงูุฌุจููุ ุญุจูุจ ุงูููุงุญ ุงูุทุงุฒุฌุฉุ ุบุฐุงุก ูููุงุช ุงููุญูุ ุงูุจุฑูุจูููุณ ููุดุชูุงุช ุงูุนูุจุฑ โ ููุชุงุฆุฌ ุบุฐุงุฆูุฉ ุชุฏุนู ููุงุนุฉ ูููู ุงูุทูู ุฏูู ุฅุถุงูุงุช ุตูุงุนูุฉ.</p>
        </div>
      </div>

      <aside class="hero-right card">
        <img src="assets/images/product.jpg" alt="ููุชุฌ ุฎูุทุฉ ุงูุนุณู" class="product-img">
        <div class="small" style="text-align:center"> ุตูุฑุฉ ุชูุถูุญูุฉ โ ุถุน ุตูุฑุฉ ุงูููุชุฌ ุงููุนููุฉ ูู assets/images/product.jpg</div>
      </aside>
    </section>

    <!-- MAIN GRID: FORM + DETAILS -->
    <div class="main-grid container">
      <!-- LEFT: ุชูุงุตูู -->
      <div>
        <section id="products" class="card">
          <h3 style="text-align:right">ููุชุฌุงุช ุฅุถุงููุฉ (Upsells)</h3>
          <div class="upsell-row"><button class="btn-primary" onclick="addToCart('ุฎูุทุฉ ุงูุชุจูู ุงููุงุงุฑุงุฏู',3200)">ุฃุถู</button><div style="text-align:right"><strong>ุฎูุทุฉ ุงูุชุจูู ุงููุงุงุฑุงุฏู</strong><div class="small">3200 ุฏุฌ</div></div></div>
          <div class="upsell-row"><button class="btn-primary" onclick="addToCart('ุฎูุทุฉ ุงูููุฉ ููุฑุฌุงู',3500)">ุฃุถู</button><div style="text-align:right"><strong>ุฎูุทุฉ ุงูููุฉ ููุฑุฌุงู</strong><div class="small">3500 ุฏุฌ</div></div></div>
          <div class="upsell-row"><button class="btn-primary" onclick="addToCart('ุฎูุทุฉ ุงูุชุณููู',3000)">ุฃุถู</button><div style="text-align:right"><strong>ุฎูุทุฉ ุงูุชุณููู</strong><div class="small">3000 ุฏุฌ</div></div></div>
          <div class="upsell-row"><button class="btn-primary" onclick="addToCart('ุฎูุทุฉ ุงูุณุนุงู ูุงูุจูุบู',2800)">ุฃุถู</button><div style="text-align:right"><strong>ุฎูุทุฉ ุงูุณุนุงู ูุงูุจูุบู</strong><div class="small">2800 ุฏุฌ</div></div></div>
          <div class="upsell-row"><button class="btn-primary" onclick="addToCart('ุนุณู ุงูุฃุฒูุงุฑ',2400)">ุฃุถู</button><div style="text-align:right"><strong>ุนุณู ุงูุฃุฒูุงุฑ</strong><div class="small">2400 ุฏุฌ</div></div></div>
          <div class="upsell-row"><button class="btn-primary" onclick="addToCart('ุนุณู ุงูุณุฏุฑ',3000)">ุฃุถู</button><div style="text-align:right"><strong>ุนุณู ุงูุณุฏุฑ</strong><div class="small">3000 ุฏุฌ</div></div></div>
        </section>

        <section id="benefits" class="card" style="margin-top:14px">
          <h3 style="text-align:right">ููุงุฆุฏ ุงูุฎูุทุฉ</h3>
          <ul style="text-align:right;color:#5d4630">
            <li>ุชุนุฒูุฒ ููุงุนุฉ ุงูุทูู ุถุฏ ูุฒูุงุช ุงูุจุฑุฏ ูุงูุฃูููููุฒุง.</li>
            <li>ุชุญุณูู ุงูุชุฑููุฒ ูุงูุฐุงูุฑุฉ ูุชุณููู ุงูุชุนูู.</li>
            <li>ููู ุนููู ุตุญูุ ููุดุงุท ุตุจุงุญู ูุงุถุญ.</li>
            <li>ุฒูุงุฏุฉ ุงูุดููุฉ ุจุตูุฑุฉ ุตุญูุฉ ูุฏุนู ุงูููู.</li>
          </ul>
        </section>

        <section id="ingredients" class="card" style="margin-top:14px">
          <h3 style="text-align:right">ุงูููููุงุช</h3>
          <div style="display:flex;gap:12px;flex-wrap:wrap;justify-content:center">
            <div style="width:120px;text-align:center"><img src="assets/images/honey.jpg" style="width:100%;border-radius:8px"><div class="small">ุงูุนุณู ุงูุฌุจูู</div></div>
            <div style="width:120px;text-align:center"><img src="assets/images/pollen.jpg" style="width:100%;border-radius:8px"><div class="small">ุญุจูุจ ุงูููุงุญ</div></div>
            <div style="width:120px;text-align:center"><img src="assets/images/royaljelly.jpg" style="width:100%;border-radius:8px"><div class="small">ุบุฐุงุก ุงููููุงุช</div></div>
            <div style="width:120px;text-align:center"><img src="assets/images/propolis.jpg" style="width:100%;border-radius:8px"><div class="small">ุจุฑูุจูููุณ/ุนูุจุฑ</div></div>
          </div>
        </section>

        <section id="reviews" class="card" style="margin-top:14px">
          <h3 style="text-align:right">ุขุฑุงุก ุงูุฒุจุงุฆู</h3>
          <div class="small" style="text-align:right">"ุจุนุฏ ุงุณุชุฎุฏุงู ุงูุฎูุทุฉ ุดูุฑ ูุงุญุฏ ูุงุญุธุช ุฃู ุทููู ุฃูู ูุฑุถุงู ููุฏ ุชุญุณู ุชุฑููุฒู" โ ุฃู ุฃูููุ ุงูุฌุฒุงุฆุฑ ุงูุนุงุตูุฉ</div>
          <div style="height:8px"></div>
          <div class="small" style="text-align:right">"ุงูุชูุตูู ูุงู ุณุฑูุน ูุงูููุชุฌ ุทุจูุนู ุฌุฏุงู" โ ุณุงุฑุฉุ ููุฑุงู</div>
          <div style="height:8px"></div>
          <div class="small" style="text-align:right">"ุงุจูู ูุงู ุจุณูููุฉ ูุงุณุชููุธ ุจูุดุงุท" โ ูุงุทูุฉุ ูุณูุทููุฉ</div>
        </section>
      </div>

      <!-- RIGHT: FORM + summary -->
      <aside>
        <div class="card">
          <h3 style="text-align:right">ูุทูุจ ุงูููุชุฌ ุงููุฃ ุงููููุฐุฌ</h3>
          <form id="orderForm">
            <label for="offerSelect">ุงุฎุชุฑ ุงูุนุฑุถ</label>
            <select id="offerSelect" name="offer">
              <option value="1">ุนุจูุฉ ูุงุญุฏุฉ โ 2800 ุฏุฌ</option>
              <option value="2">ุนุจูุชูู โ 5600 ุฏุฌ (ุชูุตูู ูุฌุงูู)</option>
              <option value="3">3 ุนุจูุงุช + 1 ูุฌุงูุง โ 8400 ุฏุฌ (ุชูุตูู ูุฌุงูู)</option>
            </select>

            <label for="name">ุงูุงุณู ุงููุงูู</label>
            <input id="name" name="name" type="text" placeholder="ุงูุงุณู ุงููุงูู" required>

            <label for="phone">ุฑูู ุงููุงุชู</label>
            <input id="phone" name="phone" type="tel" placeholder="ูุซุงู: 0550123456 ุฃู +213550123456" required>

            <label for="wilaya">ุงูููุงูุฉ</label>
            <select id="wilaya" name="wilaya" required>
              <option value="">ุงุฎุชุฑ ููุงูุชู</option>
              <option value="ุฃุฏุฑุงุฑ">01 - ุฃุฏุฑุงุฑ</option>
              <option value="ุงูุดูู">02 - ุงูุดูู</option>
              <option value="ุงูุฃุบูุงุท">03 - ุงูุฃุบูุงุท</option>
              <option value="ุฃู ุงูุจูุงูู">04 - ุฃู ุงูุจูุงูู</option>
              <option value="ุจุงุชูุฉ">05 - ุจุงุชูุฉ</option>
              <option value="ุจุฌุงูุฉ">06 - ุจุฌุงูุฉ</option>
              <option value="ุจุณูุฑุฉ">07 - ุจุณูุฑุฉ</option>
              <option value="ุจุดุงุฑ">08 - ุจุดุงุฑ</option>
              <option value="ุงูุจููุฏุฉ">09 - ุงูุจููุฏุฉ</option>
              <option value="ุงูุจููุฑุฉ">10 - ุงูุจููุฑุฉ</option>
              <option value="ุชููุฑุงุณุช">11 - ุชููุฑุงุณุช</option>
              <option value="ุชุจุณุฉ">12 - ุชุจุณุฉ</option>
              <option value="ุชููุณุงู">13 - ุชููุณุงู</option>
              <option value="ุชูุงุฑุช">14 - ุชูุงุฑุช</option>
              <option value="ุชูุฒู ูุฒู">15 - ุชูุฒู ูุฒู</option>
              <option value="ุงูุฌุฒุงุฆุฑ">16 - ุงูุฌุฒุงุฆุฑ</option>
              <option value="ุงูุฌููุฉ">17 - ุงูุฌููุฉ</option>
              <option value="ุฌูุฌู">18 - ุฌูุฌู</option>
              <option value="ุณุทูู">19 - ุณุทูู</option>
              <option value="ุณุนูุฏุฉ">20 - ุณุนูุฏุฉ</option>
              <option value="ุณูููุฏุฉ">21 - ุณูููุฏุฉ</option>
              <option value="ุณูุฏู ุจูุนุจุงุณ">22 - ุณูุฏู ุจูุนุจุงุณ</option>
              <option value="ุนูุงุจุฉ">23 - ุนูุงุจุฉ</option>
              <option value="ูุงููุฉ">24 - ูุงููุฉ</option>
              <option value="ูุณูุทููุฉ">25 - ูุณูุทููุฉ</option>
              <option value="ุงููุฏูุฉ">26 - ุงููุฏูุฉ</option>
              <option value="ูุณุชุบุงูู">27 - ูุณุชุบุงูู</option>
              <option value="ุงููุณููุฉ">28 - ุงููุณููุฉ</option>
              <option value="ูุนุณูุฑ">29 - ูุนุณูุฑ</option>
              <option value="ูุฑููุฉ">30 - ูุฑููุฉ</option>
              <option value="ููุฑุงู">31 - ููุฑุงู</option>
              <option value="ุงูุจูุถ">32 - ุงูุจูุถ</option>
              <option value="ุฅููุฒู">33 - ุฅููุฒู</option>
              <option value="ุจุฑุฌ ุจูุนุฑูุฑูุฌ">34 - ุจุฑุฌ ุจูุนุฑูุฑูุฌ</option>
              <option value="ุจููุฑุฏุงุณ">35 - ุจููุฑุฏุงุณ</option>
              <option value="ุงูุทุงุฑู">36 - ุงูุทุงุฑู</option>
              <option value="ุชูุฏูู">37 - ุชูุฏูู</option>
              <option value="ุชูุณูุณููุช">38 - ุชูุณูุณููุช</option>
              <option value="ุงููุงุฏู">39 - ุงููุงุฏู</option>
              <option value="ุฎูุดูุฉ">40 - ุฎูุดูุฉ</option>
              <option value="ุณูู ุฃูุฑุงุณ">41 - ุณูู ุฃูุฑุงุณ</option>
              <option value="ุชูุจุงุฒุฉ">42 - ุชูุจุงุฒุฉ</option>
              <option value="ูููุฉ">43 - ูููุฉ</option>
              <option value="ุนูู ุงูุฏููู">44 - ุนูู ุงูุฏููู</option>
              <option value="ุงููุนุงูุฉ">45 - ุงููุนุงูุฉ</option>
              <option value="ุนูู ุชููุดูุช">46 - ุนูู ุชููุดูุช</option>
              <option value="ุบุฑุฏุงูุฉ">47 - ุบุฑุฏุงูุฉ</option>
              <option value="ุบููุฒุงู">48 - ุบููุฒุงู</option>
              <option value="ุชูููููู">49 - ุชูููููู</option>
              <option value="ุจุฑุฌ ุจุงุฌู ูุฎุชุงุฑ">50 - ุจุฑุฌ ุจุงุฌู ูุฎุชุงุฑ</option>
              <option value="ุฃููุงุฏ ุฌูุงู">51 - ุฃููุงุฏ ุฌูุงู</option>
              <option value="ุจูู ุนุจุงุณ">52 - ุจูู ุนุจุงุณ</option>
              <option value="ุนูู ุตุงูุญ">53 - ุนูู ุตุงูุญ</option>
              <option value="ุนูู ูุฒุงู">54 - ุนูู ูุฒุงู</option>
              <option value="ุชูุฑุช">55 - ุชูุฑุช</option>
              <option value="ุฌุงูุช">56 - ุฌุงูุช</option>
              <option value="ุงููุบูุฑ">57 - ุงููุบูุฑ</option>
              <option value="ุงููููุนุฉ">58 - ุงููููุนุฉ</option>
            </select>

            <label for="address">ุงูุนููุงู (ุชูุตูู)</label>
            <input id="address" name="address" type="text" placeholder="ุดุงุฑุนุ ุฑููุ ููุงุญุธุฉ" required>

            <div class="summary small" id="summaryBox">
              <div><span>ุณุนุฑ ุงูุนุจูุงุช</span><span id="ui_price_items">2800 ุฏุฌ</span></div>
              <div><span>ุณุนุฑ ุงูุฅุถุงูุงุช</span><span id="ui_price_cart">0 ุฏุฌ</span></div>
              <div><span>ุณุนุฑ ุงูุชูุตูู</span><span id="ui_price_shipping">--</span></div>
              <div class="total-row"><span>ุงููุฌููุน ุงูููู</span><span id="ui_total">2800 ุฏุฌ</span></div>
            </div>

            <input type="hidden" id="price_items" name="price_items" value="2800">
            <input type="hidden" id="price_cart" name="price_cart" value="0">
            <input type="hidden" id="price_shipping" name="price_shipping" value="0">
            <input type="hidden" id="total_price" name="total" value="2800">

            <div style="margin-top:10px">
              <button id="confirmBtn" type="submit" class="btn-confirm">โ ุชุฃููุฏ ุงูุทูุจ ุงูุขู</button>
            </div>

            <p id="msg" class="small" style="margin-top:8px;color:green"></p>
          </form>

          <div class="cart card" style="margin-top:12px">
            <h4 style="text-align:right">ุณูุฉ ุงููุดุชุฑูุงุช</h4>
            <div id="cartList" class="small">ุงูุณูุฉ ูุงุฑุบุฉ</div>
          </div>
        </div>
      </aside>
    </div>

    <footer id="contact">
      <div style="padding:18px;text-align:center;color:#6b573f">
        <div>ุงูุชูุตูู ุฏุงุฎู ุงูุฌุฒุงุฆุฑ โ ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู</div>
        <div style="margin-top:8px">ยฉ 2025 ููุงุญู ูุนุณู ุขู ุงูุจูุณุนูุฏู</div>
      </div>
    </footer>
  </div>

  <!-- ุฃุฒุฑุงุฑ ุซุงุจุชุฉ -->
  <a class="call-button" href="tel:+213662277555" title="ุงุชุตู ุงูุขู">๐</a>
  <button class="sticky-order" onclick="scrollToForm()">๐ ุฃุทูุจ ุงูุขู</button>

<script>
/* ========== ุฅุนุฏุงุฏุงุช (ุถุน ููุง ุฑุงุจุท Web App ุจุนุฏ ูุดุฑู) ========== */
const WEBAPP_URL = "https://script.google.com/macros/s/AKfycbz8tz7Yf9sLkVpnEj1jNc3zZToF8njsbDBwyr2oAZVtQIm8FH_ujlKsifPsRvGWubBLew/exec"; // ุงุณุชุจุฏู ุจุงูุฑุงุจุท .../exec

/* ===== ุนุฑูุถ ูุฃุณุนุงุฑ ู ุดุญู ===== */
const offers = [
  {id:"1", title:"ุนุจูุฉ ูุงุญุฏุฉ โ 2800 ุฏุฌ", price:2800, units:1},
  {id:"2", title:"ุนุจูุชูู โ 5600 ุฏุฌ", price:5600, units:2},
  {id:"3", title:"3 ุนุจูุงุช + 1 ูุฌุงูุงู โ 8400 ุฏุฌ", price:8400, units:4}
];

// ุฌุฏูู ุฃุณุนุงุฑ ุงูุชูุตูู ุงูุชูุฑูุจู (ูุงุจู ููุชุนุฏูู)
const shippingTable = {
  "ุฃุฏุฑุงุฑ":1500,"ุงูุดูู":600,"ุงูุฃุบูุงุท":900,"ุฃู ุงูุจูุงูู":900,"ุจุงุชูุฉ":800,"ุจุฌุงูุฉ":700,"ุจุณูุฑุฉ":900,"ุจุดุงุฑ":1300,"ุงูุจููุฏุฉ":500,"ุงูุจููุฑุฉ":700,
  "ุชููุฑุงุณุช":1600,"ุชุจุณุฉ":900,"ุชููุณุงู":800,"ุชูุงุฑุช":700,"ุชูุฒู ูุฒู":600,"ุงูุฌุฒุงุฆุฑ":400,"ุงูุฌููุฉ":800,"ุฌูุฌู":900,"ุณุทูู":700,"ุณุนูุฏุฉ":800,
  "ุณูููุฏุฉ":900,"ุณูุฏู ุจูุนุจุงุณ":700,"ุนูุงุจุฉ":900,"ูุงููุฉ":900,"ูุณูุทููุฉ":800,"ุงููุฏูุฉ":600,"ูุณุชุบุงูู":700,"ุงููุณููุฉ":800,"ูุนุณูุฑ":800,"ูุฑููุฉ":1000,
  "ููุฑุงู":700,"ุงูุจูุถ":1000,"ุฅููุฒู":1600,"ุจุฑุฌ ุจูุนุฑูุฑูุฌ":700,"ุจููุฑุฏุงุณ":500,"ุงูุทุงุฑู":900,"ุชูุฏูู":1600,"ุชูุณูุณููุช":700,"ุงููุงุฏู":1000,"ุฎูุดูุฉ":900,
  "ุณูู ุฃูุฑุงุณ":900,"ุชูุจุงุฒุฉ":500,"ูููุฉ":900,"ุนูู ุงูุฏููู":700,"ุงููุนุงูุฉ":1100,"ุนูู ุชููุดูุช":800,"ุบุฑุฏุงูุฉ":1000,"ุบููุฒุงู":800,"ุชูููููู":1300,
  "ุจุฑุฌ ุจุงุฌู ูุฎุชุงุฑ":1600,"ุฃููุงุฏ ุฌูุงู":900,"ุจูู ุนุจุงุณ":1200,"ุนูู ุตุงูุญ":1500,"ุนูู ูุฒุงู":1600,"ุชูุฑุช":1000,"ุฌุงูุช":1600,"ุงููุบูุฑ":1100,"ุงููููุนุฉ":1200
};

/* ===== ุณูุฉ + ุงุฎุชูุงุฑุงุช ===== */
let selectedOffer = offers[0];
let cart = []; // ุนูุงุตุฑ ูุถุงูุฉ ูู upsells

function init(){
  renderOffers();
  selectOffer("1");
  document.getElementById('offerSelect').addEventListener('change', function(e){ selectOffer(e.target.value); });
  document.getElementById('orderForm').addEventListener('submit', onSubmit);
  computePrices();
  renderCart();
}

/* Render offer cards */
function renderOffers(){
  const cont = document.getElementById('offersContainer');
  cont.innerHTML = '';
  offers.forEach(o=>{
    const el = document.createElement('div');
    el.className = 'offer-card';
    el.dataset.id = o.id;
    el.innerHTML = `<div style="font-weight:800">${o.title}</div><div class="small">${o.price} ุฏุฌ</div>`;
    el.addEventListener('click', ()=>{ selectOffer(o.id); document.getElementById('offerSelect').value = o.id; });
    cont.appendChild(el);
  });
}

/* ุงุฎุชูุงุฑ ุนุฑุถ */
function selectOffer(id){
  selectedOffer = offers.find(x=>x.id==id) || offers[0];
  document.querySelectorAll('.offer-card').forEach(c=>c.classList.remove('active'));
  document.querySelector(`.offer-card[data-id="${id}"]`)?.classList.add('active');
  document.getElementById('displayPrice').innerText = selectedOffer.price + ' ุฏุฌ';
  document.getElementById('price_items').value = selectedOffer.price;
  computePrices();
}

/* ุฅุถุงูุฉ ุฅูู ุงูุณูุฉ */
function addToCart(name, price){
  const idx = cart.findIndex(i=>i.name===name);
  if(idx>-1) cart[idx].qty++;
  else cart.push({name,price,qty:1});
  renderCart(); computePrices();
}

/* ุฑูุฏุฑ ุงูุณูุฉ */
function renderCart(){
  const el = document.getElementById('cartList');
  if(!cart.length){ el.innerHTML = '<div class="small">ุงูุณูุฉ ูุงุฑุบุฉ</div>'; document.getElementById('price_cart').value = 0; return; }
  el.innerHTML = '';
  cart.forEach((it,i)=>{
    const row = document.createElement('div');
    row.className = 'cart-item';
    row.innerHTML = `<div style="text-align:right"><strong>${it.name}</strong><div class="small">${it.price} ุฏุฌ ร ${it.qty}</div></div>
      <div class="cart-controls"><button onclick="changeQty(${i},-1)">โ</button> <button onclick="changeQty(${i},1)">+</button> <button onclick="removeFromCart(${i})">ุญุฐู</button></div>`;
    el.appendChild(row);
  });
  document.getElementById('price_cart').value = cart.reduce((s,i)=>s + i.price*i.qty,0);
}

/* ุชุบููุฑ ูููุฉ */
function changeQty(i,delta){ cart[i].qty = Math.max(1, cart[i].qty + delta); renderCart(); computePrices(); }
function removeFromCart(i){ cart.splice(i,1); renderCart(); computePrices(); }

/* ุญุณุงุจ ุงูุฃุณุนุงุฑ */
function computePrices(){
  const itemsPrice = Number(document.getElementById('price_items').value) || selectedOffer.price;
  const cartSum = cart.reduce((s,i)=>s + i.price*i.qty,0);
  const wilaya = document.getElementById('wilaya').value;
  let shipping = shippingTable[wilaya] || 800;
  // ุดุญู ูุฌุงูู ููุนุฑูุถ 2 ู 3
  if(selectedOffer.id === "2" || selectedOffer.id === "3") shipping = 0;
  const total = itemsPrice + cartSum + shipping;
  document.getElementById('ui_price_items').innerText = itemsPrice + ' ุฏุฌ';
  document.getElementById('ui_price_cart').innerText = cartSum + ' ุฏุฌ';
  document.getElementById('ui_price_shipping').innerText = (shipping===0 ? 'ูุฌุงูู' : shipping + ' ุฏุฌ');
  document.getElementById('ui_total').innerText = total + ' ุฏุฌ';
  document.getElementById('price_cart').value = cartSum;
  document.getElementById('price_shipping').value = shipping;
  document.getElementById('total_price').value = total;
}

/* ุชูุฑูุฑ ุฅูู ุงูููุฑู */
function scrollToForm(){
  document.getElementById('name')?.scrollIntoView({behavior:'smooth', block:'center'});
  document.getElementById('name')?.focus();
}

/* ุชุญูู ูุงุชู ุฌุฒุงุฆุฑู */
function validatePhone(phone){
  const cleaned = (phone||'').replace(/\s|-/g,'');
  return /^(?:\+213|0)(?:5|6|7)\d{8}$/.test(cleaned);
}

/* ุฅุฑุณุงู ุงูููุฑู */
function onSubmit(e){
  e.preventDefault();
  const name = document.getElementById('name').value.trim();
  let phone = document.getElementById('phone').value.trim();
  phone = phone.replace(/\s|-/g,'');
  if(!validatePhone(phone)){ alert('ุฃุฏุฎู ุฑูู ูุงุชู ุฌุฒุงุฆุฑู ุตุญูุญ. ูุซุงู: 0550123456 ุฃู +213550123456'); document.getElementById('phone').focus(); return; }
  const wilaya = document.getElementById('wilaya').value;
  if(!wilaya){ alert('ุงุฎุชุฑ ููุงูุชู'); return; }
  if(!WEBAPP_URL || WEBAPP_URL.includes('PUT_YOUR_WEBAPP_URL_HERE')){ alert('ุถุน ุฑุงุจุท Web App ูู ุงูููุฏ (WEBAPP_URL)'); return; }

  // ุจูุงุก ุงูุจูุงูุงุช
  const fd = new FormData();
  fd.append('name', name);
  fd.append('phone', phone);
  fd.append('wilaya', wilaya);
  fd.append('address', document.getElementById('address').value || '');
  fd.append('offer', document.getElementById('offerSelect').value);
  fd.append('price_items', document.getElementById('price_items').value);
  fd.append('price_cart', document.getElementById('price_cart').value);
  fd.append('price_shipping', document.getElementById('price_shipping').value);
  fd.append('total', document.getElementById('total_price').value);

  // ุงุฑูุงู ุงูุณูุฉ
  cart.forEach(it => fd.append('cart[]', `${it.name} x${it.qty} (${it.price} ุฏุฌ)`));
  // ุงุฑูุงู upsells (ูู ุงุญุชุฌูุง)
  // (ูู ูุฐู ุงููุณุฎุฉ Upsells ุชุถุงู ููุณูุฉ ุจูุงุณุทุฉ addToCart)

  // ุงุฑุณุงู
  document.getElementById('confirmBtn').disabled = true;
  fetch(WEBAPP_URL, { method:'POST', body: fd })
    .then(r => r.json())
    .then(res => {
      if(res && res.result === 'success'){
        document.getElementById('msg').innerText = 'โ ุชู ุฅุฑุณุงู ุงูุทูุจ ุจูุฌุงุญ. ุณูุชูุงุตู ูุนู ูุฑูุจุงู.';
        document.getElementById('orderForm').reset();
        cart = []; renderCart(); computePrices();
        setTimeout(()=> window.location.href = 'thankyou.html', 900);
      }else{
        console.error('response error', res);
        alert('ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุฅุฑุณุงู. ุชุฃูุฏ ูู ุฅุนุฏุงุฏ Web App.');
      }
    })
    .catch(err=>{
      console.error(err);
      alert('ูุดู ุงูุฅุฑุณุงู โ ุชุญูู ูู ูุดุฑ Web App ูุตูุงุญูุงุช ุงููุตูู (Anyone).');
    })
    .finally(()=> document.getElementById('confirmBtn').disabled = false);
}

document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>








